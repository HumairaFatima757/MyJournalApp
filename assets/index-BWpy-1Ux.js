(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var ad={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function yA(){if(Z_)return il;Z_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return il.Fragment=t,il.jsx=i,il.jsxs=i,il}var J_;function vA(){return J_||(J_=1,ad.exports=yA()),ad.exports}var st=vA(),od={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function EA(){if(W_)return At;W_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function k(I){return I===null||typeof I!="object"?null:(I=C&&I[C]||I["@@iterator"],typeof I=="function"?I:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,nt={};function J(I,Y,et){this.props=I,this.context=Y,this.refs=nt,this.updater=et||F}J.prototype.isReactComponent={},J.prototype.setState=function(I,Y){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Y,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function St(){}St.prototype=J.prototype;function Tt(I,Y,et){this.props=I,this.context=Y,this.refs=nt,this.updater=et||F}var dt=Tt.prototype=new St;dt.constructor=Tt,Z(dt,J.prototype),dt.isPureReactComponent=!0;var Pt=Array.isArray,yt={H:null,A:null,T:null,S:null,V:null},Mt=Object.prototype.hasOwnProperty;function O(I,Y,et,$,ut,wt){return et=wt.ref,{$$typeof:a,type:I,key:Y,ref:et!==void 0?et:null,props:wt}}function S(I,Y){return O(I.type,Y,void 0,void 0,void 0,I.props)}function R(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function N(I){var Y={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function U(I,Y){return typeof I=="object"&&I!==null&&I.key!=null?N(""+I.key):Y.toString(36)}function w(){}function Me(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(Y){I.status==="pending"&&(I.status="fulfilled",I.value=Y)},function(Y){I.status==="pending"&&(I.status="rejected",I.reason=Y)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function re(I,Y,et,$,ut){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var _t=!1;if(I===null)_t=!0;else switch(wt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(I.$$typeof){case a:case t:_t=!0;break;case A:return _t=I._init,re(_t(I._payload),Y,et,$,ut)}}if(_t)return ut=ut(I),_t=$===""?"."+U(I,0):$,Pt(ut)?(et="",_t!=null&&(et=_t.replace(M,"$&/")+"/"),re(ut,Y,et,"",function(Ln){return Ln})):ut!=null&&(R(ut)&&(ut=S(ut,et+(ut.key==null||I&&I.key===ut.key?"":(""+ut.key).replace(M,"$&/")+"/")+_t)),Y.push(ut)),1;_t=0;var Re=$===""?".":$+":";if(Pt(I))for(var Zt=0;Zt<I.length;Zt++)$=I[Zt],wt=Re+U($,Zt),_t+=re($,Y,et,wt,ut);else if(Zt=k(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!($=I.next()).done;)$=$.value,wt=Re+U($,Zt++),_t+=re($,Y,et,wt,ut);else if(wt==="object"){if(typeof I.then=="function")return re(Me(I),Y,et,$,ut);throw Y=String(I),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return _t}function j(I,Y,et){if(I==null)return I;var $=[],ut=0;return re(I,$,"","",function(wt){return Y.call(et,wt,ut++)}),$}function tt(I){if(I._status===-1){var Y=I._result;Y=Y(),Y.then(function(et){(I._status===0||I._status===-1)&&(I._status=1,I._result=et)},function(et){(I._status===0||I._status===-1)&&(I._status=2,I._result=et)}),I._status===-1&&(I._status=0,I._result=Y)}if(I._status===1)return I._result.default;throw I._result}var ot=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return At.Children={map:j,forEach:function(I,Y,et){j(I,function(){Y.apply(this,arguments)},et)},count:function(I){var Y=0;return j(I,function(){Y++}),Y},toArray:function(I){return j(I,function(Y){return Y})||[]},only:function(I){if(!R(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},At.Component=J,At.Fragment=i,At.Profiler=l,At.PureComponent=Tt,At.StrictMode=s,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=yt,At.__COMPILER_RUNTIME={__proto__:null,c:function(I){return yt.H.useMemoCache(I)}},At.cache=function(I){return function(){return I.apply(null,arguments)}},At.cloneElement=function(I,Y,et){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var $=Z({},I.props),ut=I.key,wt=void 0;if(Y!=null)for(_t in Y.ref!==void 0&&(wt=void 0),Y.key!==void 0&&(ut=""+Y.key),Y)!Mt.call(Y,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Y.ref===void 0||($[_t]=Y[_t]);var _t=arguments.length-2;if(_t===1)$.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];$.children=Re}return O(I.type,ut,void 0,void 0,wt,$)},At.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},At.createElement=function(I,Y,et){var $,ut={},wt=null;if(Y!=null)for($ in Y.key!==void 0&&(wt=""+Y.key),Y)Mt.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ut[$]=Y[$]);var _t=arguments.length-2;if(_t===1)ut.children=et;else if(1<_t){for(var Re=Array(_t),Zt=0;Zt<_t;Zt++)Re[Zt]=arguments[Zt+2];ut.children=Re}if(I&&I.defaultProps)for($ in _t=I.defaultProps,_t)ut[$]===void 0&&(ut[$]=_t[$]);return O(I,wt,void 0,void 0,null,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:g,render:I}},At.isValidElement=R,At.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:tt}},At.memo=function(I,Y){return{$$typeof:y,type:I,compare:Y===void 0?null:Y}},At.startTransition=function(I){var Y=yt.T,et={};yt.T=et;try{var $=I(),ut=yt.S;ut!==null&&ut(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ot)}catch(wt){ot(wt)}finally{yt.T=Y}},At.unstable_useCacheRefresh=function(){return yt.H.useCacheRefresh()},At.use=function(I){return yt.H.use(I)},At.useActionState=function(I,Y,et){return yt.H.useActionState(I,Y,et)},At.useCallback=function(I,Y){return yt.H.useCallback(I,Y)},At.useContext=function(I){return yt.H.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I,Y){return yt.H.useDeferredValue(I,Y)},At.useEffect=function(I,Y,et){var $=yt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(I,Y)},At.useId=function(){return yt.H.useId()},At.useImperativeHandle=function(I,Y,et){return yt.H.useImperativeHandle(I,Y,et)},At.useInsertionEffect=function(I,Y){return yt.H.useInsertionEffect(I,Y)},At.useLayoutEffect=function(I,Y){return yt.H.useLayoutEffect(I,Y)},At.useMemo=function(I,Y){return yt.H.useMemo(I,Y)},At.useOptimistic=function(I,Y){return yt.H.useOptimistic(I,Y)},At.useReducer=function(I,Y,et){return yt.H.useReducer(I,Y,et)},At.useRef=function(I){return yt.H.useRef(I)},At.useState=function(I){return yt.H.useState(I)},At.useSyncExternalStore=function(I,Y,et){return yt.H.useSyncExternalStore(I,Y,et)},At.useTransition=function(){return yt.H.useTransition()},At.version="19.1.0",At}var ty;function Yd(){return ty||(ty=1,od.exports=EA()),od.exports}var mn=Yd(),ld={exports:{}},rl={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function TA(){return ey||(ey=1,function(a){function t(j,tt){var ot=j.length;j.push(tt);t:for(;0<ot;){var zt=ot-1>>>1,I=j[zt];if(0<l(I,tt))j[zt]=tt,j[ot]=I,ot=zt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var tt=j[0],ot=j.pop();if(ot!==tt){j[0]=ot;t:for(var zt=0,I=j.length,Y=I>>>1;zt<Y;){var et=2*(zt+1)-1,$=j[et],ut=et+1,wt=j[ut];if(0>l($,ot))ut<I&&0>l(wt,$)?(j[zt]=wt,j[ut]=ot,zt=ut):(j[zt]=$,j[et]=ot,zt=et);else if(ut<I&&0>l(wt,ot))j[zt]=wt,j[ut]=ot,zt=ut;else break t}}return tt}function l(j,tt){var ot=j.sortIndex-tt.sortIndex;return ot!==0?ot:j.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],y=[],A=1,C=null,k=3,F=!1,Z=!1,nt=!1,J=!1,St=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Pt(j){for(var tt=i(y);tt!==null;){if(tt.callback===null)s(y);else if(tt.startTime<=j)s(y),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(y)}}function yt(j){if(nt=!1,Pt(j),!Z)if(i(p)!==null)Z=!0,Mt||(Mt=!0,U());else{var tt=i(y);tt!==null&&re(yt,tt.startTime-j)}}var Mt=!1,O=-1,S=5,R=-1;function N(){return J?!0:!(a.unstable_now()-R<S)}function M(){if(J=!1,Mt){var j=a.unstable_now();R=j;var tt=!0;try{t:{Z=!1,nt&&(nt=!1,Tt(O),O=-1),F=!0;var ot=k;try{e:{for(Pt(j),C=i(p);C!==null&&!(C.expirationTime>j&&N());){var zt=C.callback;if(typeof zt=="function"){C.callback=null,k=C.priorityLevel;var I=zt(C.expirationTime<=j);if(j=a.unstable_now(),typeof I=="function"){C.callback=I,Pt(j),tt=!0;break e}C===i(p)&&s(p),Pt(j)}else s(p);C=i(p)}if(C!==null)tt=!0;else{var Y=i(y);Y!==null&&re(yt,Y.startTime-j),tt=!1}}break t}finally{C=null,k=ot,F=!1}tt=void 0}}finally{tt?U():Mt=!1}}}var U;if(typeof dt=="function")U=function(){dt(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=M,U=function(){Me.postMessage(null)}}else U=function(){St(M,0)};function re(j,tt){O=St(function(){j(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(j){j.callback=null},a.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},a.unstable_getCurrentPriorityLevel=function(){return k},a.unstable_next=function(j){switch(k){case 1:case 2:case 3:var tt=3;break;default:tt=k}var ot=k;k=tt;try{return j()}finally{k=ot}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=k;k=j;try{return tt()}finally{k=ot}},a.unstable_scheduleCallback=function(j,tt,ot){var zt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?zt+ot:zt):ot=zt,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ot+I,j={id:A++,callback:tt,priorityLevel:j,startTime:ot,expirationTime:I,sortIndex:-1},ot>zt?(j.sortIndex=ot,t(y,j),i(p)===null&&j===i(y)&&(nt?(Tt(O),O=-1):nt=!0,re(yt,ot-zt))):(j.sortIndex=I,t(p,j),Z||F||(Z=!0,Mt||(Mt=!0,U()))),j},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(j){var tt=k;return function(){var ot=k;k=tt;try{return j.apply(this,arguments)}finally{k=ot}}}}(cd)),cd}var ny;function AA(){return ny||(ny=1,ud.exports=TA()),ud.exports}var hd={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function SA(){if(iy)return He;iy=1;var a=Yd();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:p,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(p,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,A)},He.flushSync=function(p){var y=d.T,A=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=A,s.d.f()}},He.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},He.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},He.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var A=y.as,C=g(A,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:F}):A==="script"&&s.d.X(p,{crossOrigin:C,integrity:k,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},He.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},He.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,C=g(A,y.crossOrigin);s.d.L(p,A,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},He.preloadModule=function(p,y){if(typeof p=="string")if(y){var A=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},He.requestFormReset=function(p){s.d.r(p)},He.unstable_batchedUpdates=function(p,y){return p(y)},He.useFormState=function(p,y,A){return d.H.useFormState(p,y,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var ry;function bA(){if(ry)return hd.exports;ry=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),hd.exports=SA(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function RA(){if(sy)return rl;sy=1;var a=AA(),t=Yd(),i=bA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===r){v=!0,r=h,o=f;break}if(E===o){v=!0,o=h,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,o=h;break}if(E===o){v=!0,o=f,r=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),St=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case yt:return"Suspense";case Mt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case dt:return(e.displayName||"Context")+".Provider";case Tt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Me(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Me(e(n))}catch{}}return null}var re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function Y(e){return{current:e}}function et(e){0>I||(e.current=zt[I],zt[I]=null,I--)}function $(e,n){I++,zt[I]=e.current,e.current=n}var ut=Y(null),wt=Y(null),_t=Y(null),Re=Y(null);function Zt(e,n){switch($(_t,n),$(wt,e),$(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=R_(n),e=w_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ut),$(ut,e)}function Ln(){et(ut),et(wt),et(_t)}function Hi(e){e.memoizedState!==null&&$(Re,e);var n=ut.current,r=w_(n,e.type);n!==r&&($(wt,e),$(ut,r))}function ui(e){wt.current===e&&(et(ut),et(wt)),Re.current===e&&(et(Re),Jo._currentValue=ot)}var Lr=Object.prototype.hasOwnProperty,zr=a.unstable_scheduleCallback,Br=a.unstable_cancelCallback,Ya=a.unstable_shouldYield,Ol=a.unstable_requestPaint,pn=a.unstable_now,sh=a.unstable_getCurrentPriorityLevel,Xa=a.unstable_ImmediatePriority,Ms=a.unstable_UserBlockingPriority,qr=a.unstable_NormalPriority,ah=a.unstable_LowPriority,Vs=a.unstable_IdlePriority,$a=a.log,Ml=a.unstable_setDisableYieldValue,se=null,Ht=null;function sn(e){if(typeof $a=="function"&&Ml(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:jr,Vl=Math.log,oh=Math.LN2;function jr(e){return e>>>=0,e===0?32:31-(Vl(e)/oh|0)|0}var Hr=256,Gr=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Us(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Nn(o):(v&=E,v!==0?h=Nn(v):r||(r=E&~e,r!==0&&(h=Nn(r))))):(E=o&~f,E!==0?h=Nn(E):v!==0?h=Nn(v):r||(r=o&~e,r!==0&&(h=Nn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Fr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Za(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var e=Hr;return Hr<<=1,(Hr&4194048)===0&&(Hr=256),e}function Wa(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function ci(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function hi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function to(e,n,r,o,h,f){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(r=v&~r;0<r;){var H=31-qe(r),Q=1<<H;E[H]=0,b[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}r&=~Q}o!==0&&zn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function zn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function eo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-qe(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:F_(e.type))}function Ul(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,fe="__reactProps$"+Wt,_n="__reactContainer$"+Wt,no="__reactEvents$"+Wt,lh="__reactListeners$"+Wt,Qi="__reactHandles$"+Wt,xl="__reactResources$"+Wt,Qr="__reactMarker$"+Wt;function Ki(e){delete e[_e],delete e[fe],delete e[no],delete e[lh],delete e[Qi]}function fi(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[_n]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=N_(e);e!==null;){if(r=e[_e])return r;e=N_(e)}return n}e=r,r=e.parentNode}return null}function Bn(e){if(e=e[_e]||e[_n]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ye(e){var n=e[xl];return n||(n=e[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Qr]=!0}var io=new Set,ks={};function On(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(ks[e]=n,e=0;e<n.length;e++)io.add(n[e])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},Kr={};function Ll(e){return Lr.call(Kr,e)?!0:Lr.call(Pl,e)?!1:kl.test(e)?Kr[e]=!0:(Pl[e]=!0,!1)}function Yi(e,n,r){if(Ll(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function jn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Yr,zl;function mi(e){if(Yr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",zl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+zl}var Ps=!1;function Ls(e,n){if(!e||Ps)return"";Ps=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Ps=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?mi(r):""}function ro(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ls(e.type,!1);case 11:return Ls(e.type.render,!1);case 1:return Ls(e.type,!0);case 31:return mi("Activity");default:return""}}function zs(e){try{var n="";do n+=ro(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function so(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uh(e){var n=so(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Bs(e){e._valueTracker||(e._valueTracker=uh(e))}function ao(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=so(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Xr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ch=/[\n"\\]/g;function de(e){return e.replace(ch,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(e,n,r,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Xi(e,v,Xe(n)):r!=null?Xi(e,v,Xe(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function $r(e,n,r,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Xe(r):"",n=n!=null?""+Xe(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Xi(e,n,r){n==="number"&&Xr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function gi(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Xe(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qt(e,n,r){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Xe(r):""}function Zr(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(re(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Xe(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function yn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Jr.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function oo(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Bl(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bl(e,f,n[f])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(e){return fh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,yi=null;function uo(e){var n=Bn(e);if(n&&(e=n.stateNode)){var r=e[fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(an(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[fe]||null;if(!h)throw Error(s(90));an(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ao(o)}break t;case"textarea":Qt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&gi(e,!!r.multiple,n,!1)}}}var Hn=!1;function ql(e,n,r){if(Hn)return e(n,r);Hn=!0;try{var o=e(n);return o}finally{if(Hn=!1,(_i!==null||yi!==null)&&(Uu(),_i&&(n=_i,e=yi,yi=_i=null,uo(n),e)))for(n=0;n<e.length;n++)uo(e[n])}}function Wr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[fe]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){En=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{En=!1}var Gn=null,$i=null,vi=null;function co(){if(vi)return vi;var e,n=$i,r=n.length,o,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var v=r-e;for(o=1;o<=v&&n[r-o]===h[f-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Fn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qn(){return!0}function ho(){return!1}function we(e){function n(r,o,h,f,v){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:ho,this.isPropagationStopped=ho,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=we(qt),es=A({},qt,{view:0,detail:0}),jl=we(es),Hs,Gs,Kn,ns=A({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(Hs=e.screenX-Kn.screenX,Gs=e.screenY-Kn.screenY):Gs=Hs=0,Kn=e),Hs)},movementY:function(e){return"movementY"in e?e.movementY:Gs}}),Tn=we(ns),Hl=A({},ns,{dataTransfer:0}),dh=we(Hl),is=A({},es,{relatedTarget:0}),Fs=we(is),fo=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=we(fo),Gl=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ks=we(Gl),mh=A({},qt,{data:0}),mo=we(mh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ql[e])?!!n[e]:!1}function ss(){return go}var Kl=A({},es,{key:function(e){if(e.key){var n=rs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(e){return e.type==="keypress"?Fn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ys=we(Kl),Yl=A({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=we(Yl),Ei=A({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),Xl=we(Ei),$l=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zl=we($l),Jl=A({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xs=we(Jl),$e=A({},qt,{newState:0,oldState:0}),Wl=we($e),tu=[9,13,27,32],Yn=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var m=Mn&&"TextEvent"in window&&!u,_=Mn&&(!Yn||u&&8<u&&11>=u),T=" ",x=!1;function q(e,n){switch(e){case"keyup":return tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function ye(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return e=n.data,e===T&&x?null:e;default:return null}}function Ut(e,n){if(Vt)return e==="compositionend"||!Yn&&q(e,n)?(e=co(),vi=$i=Gn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ti(e,n,r,o){_i?yi?yi.push(o):yi=[o]:_i=o,n=Bu(n,"onChange"),0<n.length&&(r=new js("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ue=null,Xn=null;function _o(e){E_(e,0)}function eu(e){var n=qn(e);if(ao(n))return e}function qm(e,n){if(e==="change")return n}var jm=!1;if(Mn){var gh;if(Mn){var ph="oninput"in document;if(!ph){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),ph=typeof Hm.oninput=="function"}gh=ph}else gh=!1;jm=gh&&(!document.documentMode||9<document.documentMode)}function Gm(){Ue&&(Ue.detachEvent("onpropertychange",Fm),Xn=Ue=null)}function Fm(e){if(e.propertyName==="value"&&eu(Xn)){var n=[];Ti(n,Xn,e,vn(e)),ql(_o,n)}}function YT(e,n,r){e==="focusin"?(Gm(),Ue=n,Xn=r,Ue.attachEvent("onpropertychange",Fm)):e==="focusout"&&Gm()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(Xn)}function $T(e,n){if(e==="click")return eu(n)}function ZT(e,n){if(e==="input"||e==="change")return eu(n)}function JT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:JT;function yo(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Lr.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Qm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Km(e,n){var r=Qm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Qm(r)}}function Ym(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ym(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xr(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Xr(e.document)}return n}function _h(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=Mn&&"documentMode"in document&&11>=document.documentMode,$s=null,yh=null,vo=null,vh=!1;function $m(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vh||$s==null||$s!==Xr(o)||(o=$s,"selectionStart"in o&&_h(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&yo(vo,o)||(vo=o,o=Bu(yh,"onSelect"),0<o.length&&(n=new js("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=$s)))}function as(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Zs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Eh={},Zm={};Mn&&(Zm=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function os(e){if(Eh[e])return Eh[e];if(!Zs[e])return e;var n=Zs[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Zm)return Eh[e]=n[r];return e}var Jm=os("animationend"),Wm=os("animationiteration"),tg=os("animationstart"),t0=os("transitionrun"),e0=os("transitionstart"),n0=os("transitioncancel"),eg=os("transitionend"),ng=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Vn(e,n){ng.set(e,n),On(n,[e])}var ig=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var r=ig.get(e);return r!==void 0?r:(n={value:e,source:n,stack:zs(n)},ig.set(e,n),n)}return{value:e,source:n,stack:zs(n)}}var Sn=[],Js=0,Ah=0;function nu(){for(var e=Js,n=Ah=Js=0;n<e;){var r=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&rg(r,h,f)}}function iu(e,n,r,o){Sn[Js++]=e,Sn[Js++]=n,Sn[Js++]=r,Sn[Js++]=o,Ah|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Sh(e,n,r,o){return iu(e,n,r,o),ru(e)}function Ws(e,n){return iu(e,null,null,n),ru(e)}function rg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-qe(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function ru(e){if(50<Go)throw Go=0,Nf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ta={};function i0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,n,r,o){return new i0(e,n,r,o)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,n){var r=e.alternate;return r===null?(r=ln(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function sg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function su(e,n,r,o,h,f){var v=0;if(o=e,typeof e=="function")bh(e)&&(v=1);else if(typeof e=="string")v=sA(e,r,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=ln(31,r,n,h),e.elementType=R,e.lanes=f,e;case Z:return ls(r.children,h,f,n);case nt:v=8,h|=24;break;case J:return e=ln(12,r,n,h|2),e.elementType=J,e.lanes=f,e;case yt:return e=ln(13,r,n,h),e.elementType=yt,e.lanes=f,e;case Mt:return e=ln(19,r,n,h),e.elementType=Mt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case St:case dt:v=10;break t;case Tt:v=9;break t;case Pt:v=11;break t;case O:v=14;break t;case S:v=16,o=null;break t}v=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=ln(v,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function ls(e,n,r,o){return e=ln(7,e,o,n),e.lanes=r,e}function Rh(e,n,r){return e=ln(6,e,null,n),e.lanes=r,e}function wh(e,n,r){return n=ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ea=[],na=0,au=null,ou=0,bn=[],Rn=0,us=null,Si=1,bi="";function cs(e,n){ea[na++]=ou,ea[na++]=au,au=e,ou=n}function ag(e,n,r){bn[Rn++]=Si,bn[Rn++]=bi,bn[Rn++]=us,us=e;var o=Si;e=bi;var h=32-qe(o)-1;o&=~(1<<h),r+=1;var f=32-qe(n)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Si=1<<32-qe(n)+h|r<<h|o,bi=f+e}else Si=1<<f|r<<h|o,bi=e}function Ih(e){e.return!==null&&(cs(e,1),ag(e,1,0))}function Ch(e){for(;e===au;)au=ea[--na],ea[na]=null,ou=ea[--na],ea[na]=null;for(;e===us;)us=bn[--Rn],bn[Rn]=null,bi=bn[--Rn],bn[Rn]=null,Si=bn[--Rn],bn[Rn]=null}var Ze=null,ae=null,Bt=!1,hs=null,$n=!1,Dh=Error(s(519));function fs(e){var n=Error(s(418,""));throw Ao(An(n,e)),Dh}function og(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[fe]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Qo.length;r++)Dt(Qo[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),$r(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Bs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Zr(n,o.value,o.defaultValue,o.children),Bs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||b_(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=qu),n=!0):n=!1,n||fs(e)}function lg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ze=Ze.return}}function Eo(e){if(e!==Ze)return!1;if(!Bt)return lg(e),Bt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Qf(e.type,e.memoizedProps)),r=!r),r&&ae&&fs(e),lg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){ae=xn(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,fr(e.type)?(e=$f,$f=null,ae=e):ae=n):ae=Ze?xn(e.stateNode.nextSibling):null;return!0}function To(){ae=Ze=null,Bt=!1}function ug(){var e=hs;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),hs=null),e}function Ao(e){hs===null?hs=[e]:hs.push(e)}var Nh=Y(null),ds=null,Ri=null;function Zi(e,n,r){$(Nh,n._currentValue),n._currentValue=r}function wi(e){e._currentValue=Nh.current,et(Nh)}function Oh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Mh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Oh(f.return,r,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Oh(v,r,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function So(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jo):e=[Jo])}h=h.return}e!==null&&Mh(n,e,r,o),n.flags|=262144}function lu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ms(e){ds=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return cg(ds,e)}function uu(e,n){return ds===null&&ms(e),cg(e,n)}function cg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(e===null)throw Error(s(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return r}var r0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},s0=a.unstable_scheduleCallback,a0=a.unstable_NormalPriority,Ee={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new r0,data:new Map,refCount:0}}function bo(e){e.refCount--,e.refCount===0&&s0(a0,function(){e.controller.abort()})}var Ro=null,Uh=0,ia=0,ra=null;function o0(e,n){if(Ro===null){var r=Ro=[];Uh=0,ia=Pf(),ra={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Uh++,n.then(hg,hg),n}function hg(){if(--Uh===0&&Ro!==null){ra!==null&&(ra.status="fulfilled");var e=Ro;Ro=null,ia=0,ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function l0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var fg=j.S;j.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&o0(e,n),fg!==null&&fg(e,n)};var gs=Y(null);function xh(){var e=gs.current;return e!==null?e:Jt.pooledCache}function cu(e,n){n===null?$(gs,gs.current):$(gs,n.pool)}function dg(){var e=xh();return e===null?null:{parent:Ee._currentValue,pool:e}}var wo=Error(s(460)),mg=Error(s(474)),hu=Error(s(542)),kh={then:function(){}};function gg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fu(){}function pg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(fu,fu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yg(e),e;default:if(typeof n.status=="string")n.then(fu,fu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yg(e),e}throw Io=n,wo}}var Io=null;function _g(){if(Io===null)throw Error(s(459));var e=Io;return Io=null,e}function yg(e){if(e===wo||e===hu)throw Error(s(483))}var Ji=!1;function Ph(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function tr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ru(e),rg(e,null,r),n}return iu(e,o,n,r),ru(e)}function Co(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,eo(e,r)}}function zh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Bh=!1;function Do(){if(Bh){var e=ra;if(e!==null)throw e}}function No(e,n,r,o){Bh=!1;var h=e.updateQueue;Ji=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;v=0,H=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(xt&z)===z:(o&z)===z){z!==0&&z===ia&&(Bh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=e,ht=E;z=n;var Xt=r;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){Q=mt.call(Xt,Q,z);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,z=typeof mt=="function"?mt.call(Xt,Q,z):mt,z==null)break t;Q=A({},Q,z);break t;case 2:Ji=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=Q):H=H.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),lr|=v,e.lanes=v,e.memoizedState=Q}}function vg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Eg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)vg(r[e],n)}var sa=Y(null),du=Y(0);function Tg(e,n){e=Vi,$(du,e),$(sa,n),Vi=e|n.baseLanes}function qh(){$(du,Vi),$(sa,sa.current)}function jh(){Vi=du.current,et(sa),et(du)}var er=0,bt=null,Kt=null,me=null,mu=!1,aa=!1,ps=!1,gu=0,Oo=0,oa=null,u0=0;function ue(){throw Error(s(321))}function Hh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!on(e[r],n[r]))return!1;return!0}function Gh(e,n,r,o,h,f){return er=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?rp:sp,ps=!1,f=r(o,h),ps=!1,aa&&(f=Sg(n,r,o,h)),Ag(e),f}function Ag(e){j.H=Tu;var n=Kt!==null&&Kt.next!==null;if(er=0,me=Kt=bt=null,mu=!1,Oo=0,oa=null,n)throw Error(s(300));e===null||Ce||(e=e.dependencies,e!==null&&lu(e)&&(Ce=!0))}function Sg(e,n,r,o){bt=e;var h=0;do{if(aa&&(oa=null),Oo=0,aa=!1,25<=h)throw Error(s(301));if(h+=1,me=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=p0,f=n(r,o)}while(aa);return f}function c0(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Mo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Fh(){var e=gu!==0;return gu=0,e}function Qh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Kh(e){if(mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}mu=!1}er=0,me=Kt=bt=null,aa=!1,Oo=gu=0,oa=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=e:me=me.next=e,me}function ge(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},me===null?bt.memoizedState=me=e:me=me.next=e}return me}function Yh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(e){var n=Oo;return Oo+=1,oa===null&&(oa=[]),e=pg(oa,e,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?rp:sp),e}function pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Mo(e);if(e.$$typeof===dt)return je(e)}throw Error(s(438,String(e)))}function Xh(e){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yh(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=N;return n.index++,r}function Ii(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=ge();return $h(n,Kt,e)}function $h(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=v=null,b=null,L=n,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(xt&Q)===Q:(er&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ia&&(H=!0);else if((er&z)===z){L=L.next,z===ia&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=f):b=b.next=Q,bt.lanes|=z,lr|=z;Q=L.action,ps&&r(f,Q),f=L.hasEagerState?L.eagerState:r(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,bt.lanes|=Q,lr|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?v=f:b.next=E,!on(f,e.memoizedState)&&(Ce=!0,H&&(r=ra,r!==null)))throw r;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Zh(e){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);on(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function bg(e,n,r){var o=bt,h=ge(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!on((Kt||h).memoizedState,r);v&&(h.memoizedState=r,Ce=!0),h=h.queue;var E=Ig.bind(null,o,h,e);if(Vo(2048,8,E,[e]),h.getSnapshot!==n||v||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,la(9,yu(),wg.bind(null,o,h,r,n),null),Jt===null)throw Error(s(349));f||(er&124)!==0||Rg(o,n,r)}return r}function Rg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=Yh(),bt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function wg(e,n,r,o){n.value=r,n.getSnapshot=o,Cg(n)&&Dg(e)}function Ig(e,n,r){return r(function(){Cg(n)&&Dg(e)})}function Cg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!on(e,r)}catch{return!0}}function Dg(e){var n=Ws(e,2);n!==null&&dn(n,e,2)}function Jh(e){var n=Je();if(typeof e=="function"){var r=e;if(e=r(),ps){sn(!0);try{r()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Ng(e,n,r,o){return e.baseState=r,$h(e,Kt,typeof o=="function"?o:Ii)}function h0(e,n,r,o,h){if(Eu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};j.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Og(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Og(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,v={};j.T=v;try{var E=r(h,o),b=j.S;b!==null&&b(v,E),Mg(e,n,E)}catch(L){Wh(e,n,L)}finally{j.T=f}}else try{f=r(h,o),Mg(e,n,f)}catch(L){Wh(e,n,L)}}function Mg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Vg(e,n,o)},function(o){return Wh(e,n,o)}):Vg(e,n,r)}function Vg(e,n,r){n.status="fulfilled",n.value=r,Ug(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Og(e,r)))}function Wh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Ug(n),n=n.next;while(n!==o)}e.action=null}function Ug(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function kg(e,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var o=bt;if(Bt){if(ae){e:{for(var h=ae,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=xn(h.nextSibling),o=h.data==="F!";break t}}fs(o)}o=!1}o&&(n=r[0])}}return r=Je(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},r.queue=o,r=ep.bind(null,bt,o),o.dispatch=r,o=Jh(!1),f=sf.bind(null,bt,!1,o.queue),o=Je(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=h0.bind(null,bt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Pg(e){var n=ge();return Lg(n,Kt,e)}function Lg(e,n,r){if(n=$h(e,n,xg)[0],e=_u(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Mo(n)}catch(v){throw v===wo?hu:v}else o=n;n=ge();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,la(9,yu(),f0.bind(null,h,r),null)),[o,f,e]}function f0(e,n){e.action=n}function zg(e){var n=ge(),r=Kt;if(r!==null)return Lg(n,r,e);ge(),n=n.memoizedState,r=ge();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function la(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Yh(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function yu(){return{destroy:void 0,resource:void 0}}function Bg(){return ge().memoizedState}function vu(e,n,r,o){var h=Je();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=la(1|n,yu(),r,o)}function Vo(e,n,r,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&Hh(o,Kt.memoizedState.deps)?h.memoizedState=la(n,f,r,o):(bt.flags|=e,h.memoizedState=la(1|n,f,r,o))}function qg(e,n){vu(8390656,8,e,n)}function jg(e,n){Vo(2048,8,e,n)}function Hg(e,n){return Vo(4,2,e,n)}function Gg(e,n){return Vo(4,4,e,n)}function Fg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Qg(e,n,r){r=r!=null?r.concat([e]):null,Vo(4,4,Fg.bind(null,n,e),r)}function tf(){}function Kg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Hh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Yg(e,n){var r=ge();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Hh(n,o[1]))return o[0];if(o=e(),ps){sn(!0);try{e()}finally{sn(!1)}}return r.memoizedState=[o,n],o}function ef(e,n,r){return r===void 0||(er&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Zp(),bt.lanes|=e,lr|=e,r)}function Xg(e,n,r,o){return on(r,n)?r:sa.current!==null?(e=ef(e,r,o),on(e,n)||(Ce=!0),e):(er&42)===0?(Ce=!0,e.memoizedState=r):(e=Zp(),bt.lanes|=e,lr|=e,n)}function $g(e,n,r,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var v=j.T,E={};j.T=E,sf(e,!1,n,r);try{var b=h(),L=j.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=l0(b,o);Uo(e,n,H,fn(e))}else Uo(e,n,o,fn(e))}catch(Q){Uo(e,n,{then:function(){},status:"rejected",reason:Q},fn())}finally{tt.p=f,j.T=v}}function d0(){}function nf(e,n,r,o){if(e.tag!==5)throw Error(s(476));var h=Zg(e).queue;$g(e,h,n,ot,r===null?d0:function(){return Jg(e),r(o)})}function Zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Jg(e){var n=Zg(e).next.queue;Uo(e,n,{},fn())}function rf(){return je(Jo)}function Wg(){return ge().memoizedState}function tp(){return ge().memoizedState}function m0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();e=Wi(r);var o=tr(n,e,r);o!==null&&(dn(o,n,r),Co(o,n,r)),n={cache:Vh()},e.payload=n;return}n=n.return}}function g0(e,n,r){var o=fn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Eu(e)?np(n,r):(r=Sh(e,n,r,o),r!==null&&(dn(r,e,o),ip(r,n,o)))}function ep(e,n,r){var o=fn();Uo(e,n,r,o)}function Uo(e,n,r,o){var h={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return iu(e,n,h,0),Jt===null&&nu(),!1}catch{}finally{}if(r=Sh(e,n,h,o),r!==null)return dn(r,e,o),ip(r,n,o),!0}return!1}function sf(e,n,r,o){if(o={lane:2,revertLane:Pf(),action:o,hasEagerState:!1,eagerState:null,next:null},Eu(e)){if(n)throw Error(s(479))}else n=Sh(e,r,o,2),n!==null&&dn(n,e,2)}function Eu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function np(e,n){aa=mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function ip(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,eo(e,r)}}var Tu={readContext:je,use:pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},rp={readContext:je,use:pu,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:qg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,vu(4194308,4,Fg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return vu(4194308,4,e,n)},useInsertionEffect:function(e,n){vu(4,2,e,n)},useMemo:function(e,n){var r=Je();n=n===void 0?null:n;var o=e();if(ps){sn(!0);try{e()}finally{sn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Je();if(r!==void 0){var h=r(n);if(ps){sn(!0);try{r(n)}finally{sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=g0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=Jh(e);var n=e.queue,r=ep.bind(null,bt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:tf,useDeferredValue:function(e,n){var r=Je();return ef(r,e,n)},useTransition:function(){var e=Jh(!1);return e=$g.bind(null,bt,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=bt,h=Je();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(xt&124)!==0||Rg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,qg(Ig.bind(null,o,f,e),[e]),o.flags|=2048,la(9,yu(),wg.bind(null,o,f,r,n),null),r},useId:function(){var e=Je(),n=Jt.identifierPrefix;if(Bt){var r=bi,o=Si;r=(o&~(1<<32-qe(o)-1)).toString(32)+r,n="«"+n+"R"+r,r=gu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=u0++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:rf,useFormState:kg,useActionState:kg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=sf.bind(null,bt,!0,r),r.dispatch=n,[e,n]},useMemoCache:Xh,useCacheRefresh:function(){return Je().memoizedState=m0.bind(null,bt)}},sp={readContext:je,use:pu,useCallback:Kg,useContext:je,useEffect:jg,useImperativeHandle:Qg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Yg,useReducer:_u,useRef:Bg,useState:function(){return _u(Ii)},useDebugValue:tf,useDeferredValue:function(e,n){var r=ge();return Xg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=_u(Ii)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Mo(e),n]},useSyncExternalStore:bg,useId:Wg,useHostTransitionStatus:rf,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var r=ge();return Ng(r,Kt,e,n)},useMemoCache:Xh,useCacheRefresh:tp},p0={readContext:je,use:pu,useCallback:Kg,useContext:je,useEffect:jg,useImperativeHandle:Qg,useInsertionEffect:Hg,useLayoutEffect:Gg,useMemo:Yg,useReducer:Zh,useRef:Bg,useState:function(){return Zh(Ii)},useDebugValue:tf,useDeferredValue:function(e,n){var r=ge();return Kt===null?ef(r,e,n):Xg(r,Kt.memoizedState,e,n)},useTransition:function(){var e=Zh(Ii)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Mo(e),n]},useSyncExternalStore:bg,useId:Wg,useHostTransitionStatus:rf,useFormState:zg,useActionState:zg,useOptimistic:function(e,n){var r=ge();return Kt!==null?Ng(r,Kt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:tp},ua=null,xo=0;function Au(e){var n=xo;return xo+=1,ua===null&&(ua=[]),pg(ua,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Su(e,n){throw n.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ap(e){var n=e._init;return n(e._payload)}function op(e){function n(V,D){if(e){var P=V.deletions;P===null?(V.deletions=[D],V.flags|=16):P.push(D)}}function r(V,D){if(!e)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function o(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Ai(V,D),V.index=0,V.sibling=null,V}function f(V,D,P){return V.index=P,e?(P=V.alternate,P!==null?(P=P.index,P<D?(V.flags|=67108866,D):P):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function v(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,P,G){return D===null||D.tag!==6?(D=Rh(P,V.mode,G),D.return=V,D):(D=h(D,P),D.return=V,D)}function b(V,D,P,G){var rt=P.type;return rt===Z?H(V,D,P.props.children,G,P.key):D!==null&&(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ap(rt)===D.type)?(D=h(D,P.props),ko(D,P),D.return=V,D):(D=su(P.type,P.key,P.props,null,V.mode,G),ko(D,P),D.return=V,D)}function L(V,D,P,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=wh(P,V.mode,G),D.return=V,D):(D=h(D,P.children||[]),D.return=V,D)}function H(V,D,P,G,rt){return D===null||D.tag!==7?(D=ls(P,V.mode,G,rt),D.return=V,D):(D=h(D,P),D.return=V,D)}function Q(V,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Rh(""+D,V.mode,P),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case k:return P=su(D.type,D.key,D.props,null,V.mode,P),ko(P,D),P.return=V,P;case F:return D=wh(D,V.mode,P),D.return=V,D;case S:var G=D._init;return D=G(D._payload),Q(V,D,P)}if(re(D)||U(D))return D=ls(D,V.mode,P,null),D.return=V,D;if(typeof D.then=="function")return Q(V,Au(D),P);if(D.$$typeof===dt)return Q(V,uu(V,D),P);Su(V,D)}return null}function z(V,D,P,G){var rt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return rt!==null?null:E(V,D,""+P,G);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case k:return P.key===rt?b(V,D,P,G):null;case F:return P.key===rt?L(V,D,P,G):null;case S:return rt=P._init,P=rt(P._payload),z(V,D,P,G)}if(re(P)||U(P))return rt!==null?null:H(V,D,P,G,null);if(typeof P.then=="function")return z(V,D,Au(P),G);if(P.$$typeof===dt)return z(V,D,uu(V,P),G);Su(V,P)}return null}function B(V,D,P,G,rt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return V=V.get(P)||null,E(D,V,""+G,rt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case k:return V=V.get(G.key===null?P:G.key)||null,b(D,V,G,rt);case F:return V=V.get(G.key===null?P:G.key)||null,L(D,V,G,rt);case S:var It=G._init;return G=It(G._payload),B(V,D,P,G,rt)}if(re(G)||U(G))return V=V.get(P)||null,H(D,V,G,rt,null);if(typeof G.then=="function")return B(V,D,P,Au(G),rt);if(G.$$typeof===dt)return B(V,D,P,uu(D,G),rt);Su(D,G)}return null}function mt(V,D,P,G){for(var rt=null,It=null,at=D,ft=D=0,Ne=null;at!==null&&ft<P.length;ft++){at.index>ft?(Ne=at,at=null):Ne=at.sibling;var Lt=z(V,at,P[ft],G);if(Lt===null){at===null&&(at=Ne);break}e&&at&&Lt.alternate===null&&n(V,at),D=f(Lt,D,ft),It===null?rt=Lt:It.sibling=Lt,It=Lt,at=Ne}if(ft===P.length)return r(V,at),Bt&&cs(V,ft),rt;if(at===null){for(;ft<P.length;ft++)at=Q(V,P[ft],G),at!==null&&(D=f(at,D,ft),It===null?rt=at:It.sibling=at,It=at);return Bt&&cs(V,ft),rt}for(at=o(at);ft<P.length;ft++)Ne=B(at,V,ft,P[ft],G),Ne!==null&&(e&&Ne.alternate!==null&&at.delete(Ne.key===null?ft:Ne.key),D=f(Ne,D,ft),It===null?rt=Ne:It.sibling=Ne,It=Ne);return e&&at.forEach(function(_r){return n(V,_r)}),Bt&&cs(V,ft),rt}function ht(V,D,P,G){if(P==null)throw Error(s(151));for(var rt=null,It=null,at=D,ft=D=0,Ne=null,Lt=P.next();at!==null&&!Lt.done;ft++,Lt=P.next()){at.index>ft?(Ne=at,at=null):Ne=at.sibling;var _r=z(V,at,Lt.value,G);if(_r===null){at===null&&(at=Ne);break}e&&at&&_r.alternate===null&&n(V,at),D=f(_r,D,ft),It===null?rt=_r:It.sibling=_r,It=_r,at=Ne}if(Lt.done)return r(V,at),Bt&&cs(V,ft),rt;if(at===null){for(;!Lt.done;ft++,Lt=P.next())Lt=Q(V,Lt.value,G),Lt!==null&&(D=f(Lt,D,ft),It===null?rt=Lt:It.sibling=Lt,It=Lt);return Bt&&cs(V,ft),rt}for(at=o(at);!Lt.done;ft++,Lt=P.next())Lt=B(at,V,ft,Lt.value,G),Lt!==null&&(e&&Lt.alternate!==null&&at.delete(Lt.key===null?ft:Lt.key),D=f(Lt,D,ft),It===null?rt=Lt:It.sibling=Lt,It=Lt);return e&&at.forEach(function(_A){return n(V,_A)}),Bt&&cs(V,ft),rt}function Xt(V,D,P,G){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case k:t:{for(var rt=P.key;D!==null;){if(D.key===rt){if(rt=P.type,rt===Z){if(D.tag===7){r(V,D.sibling),G=h(D,P.props.children),G.return=V,V=G;break t}}else if(D.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ap(rt)===D.type){r(V,D.sibling),G=h(D,P.props),ko(G,P),G.return=V,V=G;break t}r(V,D);break}else n(V,D);D=D.sibling}P.type===Z?(G=ls(P.props.children,V.mode,G,P.key),G.return=V,V=G):(G=su(P.type,P.key,P.props,null,V.mode,G),ko(G,P),G.return=V,V=G)}return v(V);case F:t:{for(rt=P.key;D!==null;){if(D.key===rt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(V,D.sibling),G=h(D,P.children||[]),G.return=V,V=G;break t}else{r(V,D);break}else n(V,D);D=D.sibling}G=wh(P,V.mode,G),G.return=V,V=G}return v(V);case S:return rt=P._init,P=rt(P._payload),Xt(V,D,P,G)}if(re(P))return mt(V,D,P,G);if(U(P)){if(rt=U(P),typeof rt!="function")throw Error(s(150));return P=rt.call(P),ht(V,D,P,G)}if(typeof P.then=="function")return Xt(V,D,Au(P),G);if(P.$$typeof===dt)return Xt(V,D,uu(V,P),G);Su(V,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(V,D.sibling),G=h(D,P),G.return=V,V=G):(r(V,D),G=Rh(P,V.mode,G),G.return=V,V=G),v(V)):r(V,D)}return function(V,D,P,G){try{xo=0;var rt=Xt(V,D,P,G);return ua=null,rt}catch(at){if(at===wo||at===hu)throw at;var It=ln(29,at,null,V.mode);return It.lanes=G,It.return=V,It}finally{}}}var ca=op(!0),lp=op(!1),wn=Y(null),Zn=null;function nr(e){var n=e.alternate;$(Te,Te.current&1),$(wn,e),Zn===null&&(n===null||sa.current!==null||n.memoizedState!==null)&&(Zn=e)}function up(e){if(e.tag===22){if($(Te,Te.current),$(wn,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else ir()}function ir(){$(Te,Te.current),$(wn,wn.current)}function Ci(e){et(wn),Zn===e&&(Zn=null),et(Te)}var Te=Y(0);function bu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Xf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function af(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var of={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=fn(),h=Wi(o);h.payload=n,r!=null&&(h.callback=r),n=tr(e,h,o),n!==null&&(dn(n,e,o),Co(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=fn(),h=Wi(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=tr(e,h,o),n!==null&&(dn(n,e,o),Co(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=fn(),o=Wi(r);o.tag=2,n!=null&&(o.callback=n),n=tr(e,o,r),n!==null&&(dn(n,e,r),Co(n,e,r))}};function cp(e,n,r,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!yo(r,o)||!yo(h,f):!0}function hp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&of.enqueueReplaceState(n,n.state,null)}function _s(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function fp(e){Ru(e)}function dp(e){console.error(e)}function mp(e){Ru(e)}function wu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function gp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lf(e,n,r){return r=Wi(r),r.tag=3,r.payload={element:null},r.callback=function(){wu(e,n)},r}function pp(e){return e=Wi(e),e.tag=3,e}function _p(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){gp(n,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){gp(n,r,o),typeof h!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function _0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&So(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 13:return Zn===null?Mf():r.alternate===null&&oe===0&&(oe=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===kh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Uf(e,o,h)),!1;case 22:return r.flags|=65536,o===kh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Uf(e,o,h)),!1}throw Error(s(435,r.tag))}return Uf(e,o,h),Mf(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Dh&&(e=Error(s(422),{cause:o}),Ao(An(e,r)))):(o!==Dh&&(n=Error(s(423),{cause:o}),Ao(An(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=An(o,r),h=lf(e.stateNode,o,h),zh(e,h),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:o});if(f=An(f,r),Ho===null?Ho=[f]:Ho.push(f),oe!==4&&(oe=2),n===null)return!0;o=An(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=lf(r.stateNode,o,e),zh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ur===null||!ur.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=pp(h),_p(h,e,r,o),zh(r,h),!1}r=r.return}while(r!==null);return!1}var yp=Error(s(461)),Ce=!1;function xe(e,n,r,o){n.child=e===null?lp(n,null,r,o):ca(n,e.child,r,o)}function vp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ms(n),o=Gh(e,n,r,v,f,h),E=Fh(),e!==null&&!Ce?(Qh(e,n,h),Di(e,n,h)):(Bt&&E&&Ih(n),n.flags|=1,xe(e,n,o,h),n.child)}function Ep(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Tp(e,n,f,o,h)):(e=su(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!pf(e,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:yo,r(v,o)&&e.ref===n.ref)return Di(e,n,h)}return n.flags|=1,e=Ai(f,o),e.ref=n.ref,e.return=n,n.child=e}function Tp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(yo(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,pf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Di(e,n,h)}return uf(e,n,r,o,h)}function Ap(e,n,r){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Sp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&cu(n,f!==null?f.cachePool:null),f!==null?Tg(n,f):qh(),up(n);else return n.lanes=n.childLanes=536870912,Sp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(cu(n,f.cachePool),Tg(n,f),ir(),n.memoizedState=null):(e!==null&&cu(n,null),qh(),ir());return xe(e,n,h,r),n.child}function Sp(e,n,r,o){var h=xh();return h=h===null?null:{parent:Ee._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},e!==null&&cu(n,null),qh(),up(n),e!==null&&So(e,n,o,!0),null}function Iu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function uf(e,n,r,o,h){return ms(n),r=Gh(e,n,r,o,void 0,h),o=Fh(),e!==null&&!Ce?(Qh(e,n,h),Di(e,n,h)):(Bt&&o&&Ih(n),n.flags|=1,xe(e,n,r,h),n.child)}function bp(e,n,r,o,h,f){return ms(n),n.updateQueue=null,r=Sg(n,o,r,h),Ag(e),o=Fh(),e!==null&&!Ce?(Qh(e,n,f),Di(e,n,f)):(Bt&&o&&Ih(n),n.flags|=1,xe(e,n,r,f),n.child)}function Rp(e,n,r,o,h){if(ms(n),n.stateNode===null){var f=ta,v=r.contextType;typeof v=="object"&&v!==null&&(f=je(v)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Ph(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?je(v):ta,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(af(n,r,v,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&of.enqueueReplaceState(f,f.state,null),No(n,o,f,h),Do(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=_s(r,E);f.props=b;var L=f.context,H=r.contextType;v=ta,typeof H=="object"&&H!==null&&(v=je(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&hp(n,f,o,v),Ji=!1;var z=n.memoizedState;f.state=z,No(n,o,f,h),Do(),L=n.memoizedState,E||z!==L||Ji?(typeof Q=="function"&&(af(n,r,Q,o),L=n.memoizedState),(b=Ji||cp(n,r,b,o,z,L,v))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Lh(e,n),v=n.memoizedProps,H=_s(r,v),f.props=H,Q=n.pendingProps,z=f.context,L=r.contextType,b=ta,typeof L=="object"&&L!==null&&(b=je(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&hp(n,f,o,b),Ji=!1,z=n.memoizedState,f.state=z,No(n,o,f,h),Do();var B=n.memoizedState;v!==Q||z!==B||Ji||e!==null&&e.dependencies!==null&&lu(e.dependencies)?(typeof E=="function"&&(af(n,r,E,o),B=n.memoizedState),(H=Ji||cp(n,r,H,o,z,B,b)||e!==null&&e.dependencies!==null&&lu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Iu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ca(n,e.child,null,h),n.child=ca(n,null,r,h)):xe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Di(e,n,h),e}function wp(e,n,r,o){return To(),n.flags|=256,xe(e,n,r,o),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(e){return{baseLanes:e,cachePool:dg()}}function ff(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function Ip(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?nr(n):ir(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=$n;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:us!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||fs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Xf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=o.children,o=o.fallback,h?(ir(),h=n.mode,E=Cu({mode:"hidden",children:E},h),o=ls(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=hf(r),h.childLanes=ff(e,v,r),n.memoizedState=cf,o):(nr(n),df(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(nr(n),n.flags&=-257,n=mf(e,n,r)):n.memoizedState!==null?(ir(),n.child=e.child,n.flags|=128,n=null):(ir(),h=o.fallback,E=n.mode,o=Cu({mode:"visible",children:o.children},E),h=ls(h,E,r,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ca(n,e.child,null,r),o=n.child,o.memoizedState=hf(r),o.childLanes=ff(e,v,r),n.memoizedState=cf,n=h);else if(nr(n),Xf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Ao({value:o,source:null,stack:null}),n=mf(e,n,r)}else if(Ce||So(e,n,r,!1),v=(r&e.childLanes)!==0,Ce||v){if(v=Jt,v!==null&&(o=r&-r,o=(o&42)!==0?1:Gi(o),o=(o&(v.suspendedLanes|r))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,Ws(e,o),dn(v,e,o),yp;E.data==="$?"||Mf(),n=mf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ae=xn(E.nextSibling),Ze=n,Bt=!0,hs=null,$n=!1,e!==null&&(bn[Rn++]=Si,bn[Rn++]=bi,bn[Rn++]=us,Si=e.id,bi=e.overflow,us=n),n=df(n,o.children),n.flags|=4096);return n}return h?(ir(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ai(L,h):(h=ls(h,E,r,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=hf(r):(b=E.cachePool,b!==null?(L=Ee._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=dg(),E={baseLanes:E.baseLanes|r,cachePool:b}),h.memoizedState=E,h.childLanes=ff(e,v,r),n.memoizedState=cf,o):(nr(n),r=e.child,e=r.sibling,r=Ai(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=r,n.memoizedState=null,r)}function df(e,n){return n=Cu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Cu(e,n){return e=ln(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mf(e,n,r){return ca(n,e.child,null,r),e=df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Oh(e.return,n,r)}function gf(e,n,r,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=h)}function Dp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(xe(e,n,o.children,r),o=Te.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cp(e,r,n);else if(e.tag===19)Cp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch($(Te,o),h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&bu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),gf(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}gf(n,!0,r,null,f);break;case"together":gf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(So(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=Ai(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ai(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&lu(e)))}function y0(e,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Zi(n,Ee,e.memoizedState.cache),To();break;case 27:case 5:Hi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ip(e,n,r):(nr(n),e=Di(e,n,r),e!==null?e.sibling:null);nr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(So(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Dp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,Ap(e,n,r);case 24:Zi(n,Ee,e.memoizedState.cache)}return Di(e,n,r)}function Np(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!pf(e,r)&&(n.flags&128)===0)return Ce=!1,y0(e,n,r);Ce=(e.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&ag(n,ou,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")bh(o)?(e=_s(o,e),n.tag=1,n=Rp(null,n,o,e,r)):(n.tag=0,n=uf(null,n,o,e,r));else{if(o!=null){if(h=o.$$typeof,h===Pt){n.tag=11,n=vp(null,n,o,e,r);break t}else if(h===O){n.tag=14,n=Ep(null,n,o,e,r);break t}}throw n=Me(o)||o,Error(s(306,n,""))}}return n;case 0:return uf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=_s(o,n.pendingProps),Rp(e,n,o,h,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Lh(e,n),No(n,o,null,r);var v=n.memoizedState;if(o=v.cache,Zi(n,Ee,o),o!==f.cache&&Mh(n,[Ee],r,!0),Do(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wp(e,n,o,r);break t}else if(o!==h){h=An(Error(s(424)),n),Ao(h),n=wp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=xn(e.firstChild),Ze=n,Bt=!0,hs=null,$n=!0,r=lp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(To(),o===h){n=Di(e,n,r);break t}xe(e,n,o,r)}n=n.child}return n;case 26:return Iu(e,n),e===null?(r=U_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,e=n.pendingProps,o=ju(_t.current).createElement(r),o[_e]=n,o[fe]=e,Pe(o,r,e),le(o),n.stateNode=o):n.memoizedState=U_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&Bt&&(o=n.stateNode=O_(n.type,n.pendingProps,_t.current),Ze=n,$n=!0,h=ae,fr(n.type)?($f=h,ae=xn(o.firstChild)):ae=h),xe(e,n,n.pendingProps.children,r),Iu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=o=ae)&&(o=Q0(o,n.type,n.pendingProps,$n),o!==null?(n.stateNode=o,Ze=n,ae=xn(o.firstChild),$n=!1,h=!0):h=!1),h||fs(n)),Hi(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Qf(h,f)?o=null:v!==null&&Qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Gh(e,n,c0,null,null,r),Jo._currentValue=h),Iu(e,n),xe(e,n,o,r),n.child;case 6:return e===null&&Bt&&((e=r=ae)&&(r=K0(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Ze=n,ae=null,e=!0):e=!1),e||fs(n)),null;case 13:return Ip(e,n,r);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ca(n,null,o,r):xe(e,n,o,r),n.child;case 11:return vp(e,n,n.type,n.pendingProps,r);case 7:return xe(e,n,n.pendingProps,r),n.child;case 8:return xe(e,n,n.pendingProps.children,r),n.child;case 12:return xe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Zi(n,n.type,o.value),xe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ms(n),h=je(h),o=o(h),n.flags|=1,xe(e,n,o,r),n.child;case 14:return Ep(e,n,n.type,n.pendingProps,r);case 15:return Tp(e,n,n.type,n.pendingProps,r);case 19:return Dp(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=Cu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ai(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Ap(e,n,r);case 24:return ms(n),o=je(Ee),e===null?(h=xh(),h===null&&(h=Jt,f=Vh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Ph(n),Zi(n,Ee,h)):((e.lanes&r)!==0&&(Lh(e,n),No(n,null,null,r),Do()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Zi(n,Ee,o)):(o=f.cache,Zi(n,Ee,o),o!==h.cache&&Mh(n,[Ee],r,!0))),xe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ni(e){e.flags|=4}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z_(n)){if(n=wn.current,n!==null&&((xt&4194048)===xt?Zn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Zn))throw Io=kh,mg;e.flags|=8192}}function Du(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wa():536870912,e.lanes|=n,ma|=n)}function Po(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function v0(e,n,r){var o=n.pendingProps;switch(Ch(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wi(Ee),Ln(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Eo(n)?Ni(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ug())),ne(n),null;case 26:return r=n.memoizedState,e===null?(Ni(n),r!==null?(ne(n),Op(n,r)):(ne(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Ni(n),ne(n),Op(n,r)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ni(n),ne(n),n.flags&=-16777217),null;case 27:ui(n),r=_t.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}e=ut.current,Eo(n)?og(n):(e=O_(h,o,r),n.stateNode=e,Ni(n))}return ne(n),null;case 5:if(ui(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(e=ut.current,Eo(n))og(n);else{switch(h=ju(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(r,{is:o.is}):h.createElement(r)}}e[_e]=n,e[fe]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Pe(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=_t.current,Eo(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||b_(e.nodeValue,r)),e||fs(n)}else e=ju(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Eo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[_e]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=ug(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Du(n,n.updateQueue),ne(n),null;case 4:return Ln(),e===null&&qf(n.stateNode.containerInfo),ne(n),null;case 10:return wi(n.type),ne(n),null;case 19:if(et(Te),h=n.memoizedState,h===null)return ne(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Po(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=bu(e),f!==null){for(n.flags|=128,Po(h,!1),e=f.updateQueue,n.updateQueue=e,Du(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)sg(r,e),r=r.sibling;return $(Te,Te.current&1|2),n.child}e=e.sibling}h.tail!==null&&pn()>Mu&&(n.flags|=128,o=!0,Po(h,!1),n.lanes=4194304)}else{if(!o)if(e=bu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Du(n,e),Po(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*pn()-h.renderingStartTime>Mu&&r!==536870912&&(n.flags|=128,o=!0,Po(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=pn(),n.sibling=null,e=Te.current,$(Te,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return Ci(n),jh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Du(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&et(gs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(Ee),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function E0(e,n){switch(Ch(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(Ee),Ln(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ci(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));To()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Te),null;case 4:return Ln(),null;case 10:return wi(n.type),null;case 22:case 23:return Ci(n),jh(),e!==null&&et(gs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(Ee),null;case 25:return null;default:return null}}function Mp(e,n){switch(Ch(n),n.tag){case 3:wi(Ee),Ln();break;case 26:case 27:case 5:ui(n);break;case 4:Ln();break;case 13:Ci(n);break;case 19:et(Te);break;case 10:wi(n.type);break;case 22:case 23:Ci(n),jh(),e!==null&&et(gs);break;case 24:wi(Ee)}}function Lo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,v=r.inst;o=f(),v.destroy=o}r=r.next}while(r!==h)}}catch(E){$t(n,n.return,E)}}function rr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var b=r,L=E;try{L()}catch(H){$t(h,b,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function Vp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Eg(n,r)}catch(o){$t(e,e.return,o)}}}function Up(e,n,r){r.props=_s(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){$t(e,n,o)}}function zo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){$t(e,n,h)}}function Jn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){$t(e,n,h)}else r.current=null}function xp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){$t(e,e.return,h)}}function _f(e,n,r){try{var o=e.stateNode;q0(o,e.type,r,n),o[fe]=n}catch(h){$t(e,e.return,h)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fr(e.type)||e.tag===4}function yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qu));else if(o!==4&&(o===27&&fr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(vf(e,n,r),e=e.sibling;e!==null;)vf(e,n,r),e=e.sibling}function Nu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&fr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Nu(e,n,r),e=e.sibling;e!==null;)Nu(e,n,r),e=e.sibling}function Pp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Pe(n,o,r),n[_e]=e,n[fe]=r}catch(f){$t(e,e.return,f)}}var Oi=!1,ce=!1,Ef=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,De=null;function T0(e,n){if(e=e.containerInfo,Gf=Yu,e=Xm(e),_h(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,b=-1,L=0,H=0,Q=e,z=null;e:for(;;){for(var B;Q!==r||h!==0&&Q.nodeType!==3||(E=v+h),Q!==f||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===r&&++L===h&&(E=v),z===f&&++H===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ff={focusedElem:e,selectionRange:r},Yu=!1,De=n;De!==null;)if(n=De,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,De=e;else for(;De!==null;){switch(n=De,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var mt=_s(r.type,h,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(mt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){$t(r,r.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Yf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,De=e;break}De=n.return}}function zp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:sr(e,r),o&4&&Lo(5,r);break;case 1:if(sr(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(r,r.return,v)}else{var h=_s(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(r,r.return,v)}}o&64&&Vp(r),o&512&&zo(r,r.return);break;case 3:if(sr(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Eg(e,n)}catch(v){$t(r,r.return,v)}}break;case 27:n===null&&o&4&&Pp(r);case 26:case 5:sr(e,r),n===null&&o&4&&xp(r),o&512&&zo(r,r.return);break;case 12:sr(e,r);break;case 13:sr(e,r),o&4&&jp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=N0.bind(null,r),Y0(e,r))));break;case 22:if(o=r.memoizedState!==null||Oi,!o){n=n!==null&&n.memoizedState!==null||ce,h=Oi;var f=ce;Oi=o,(ce=n)&&!f?ar(e,r,(r.subtreeFlags&8772)!==0):sr(e,r),Oi=h,ce=f}break;case 30:break;default:sr(e,r)}}function Bp(e){var n=e.alternate;n!==null&&(e.alternate=null,Bp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ki(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,We=!1;function Mi(e,n,r){for(r=r.child;r!==null;)qp(e,n,r),r=r.sibling}function qp(e,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||Jn(r,n),Mi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Jn(r,n);var o=te,h=We;fr(r.type)&&(te=r.stateNode,We=!1),Mi(e,n,r),Yo(r.stateNode),te=o,We=h;break;case 5:ce||Jn(r,n);case 6:if(o=te,h=We,te=null,Mi(e,n,r),te=o,We=h,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){$t(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){$t(r,n,f)}break;case 18:te!==null&&(We?(e=te,D_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),nl(e)):D_(te,r.stateNode));break;case 4:o=te,h=We,te=r.stateNode.containerInfo,We=!0,Mi(e,n,r),te=o,We=h;break;case 0:case 11:case 14:case 15:ce||rr(2,r,n),ce||rr(4,r,n),Mi(e,n,r);break;case 1:ce||(Jn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Up(r,n,o)),Mi(e,n,r);break;case 21:Mi(e,n,r);break;case 22:ce=(o=ce)||r.memoizedState!==null,Mi(e,n,r),ce=o;break;default:Mi(e,n,r)}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(r){$t(n,n.return,r)}}function A0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Lp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Lp),n;default:throw Error(s(435,e.tag))}}function Tf(e,n){var r=A0(e);n.forEach(function(o){var h=O0.bind(null,e,o);r.has(o)||(r.add(o),o.then(h,h))})}function un(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(fr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(s(160));qp(f,v,h),te=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hp(n,e),n=n.sibling}var Un=null;function Hp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(rr(3,e,e.return),Lo(3,e),rr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(ce||r===null||Jn(r,r.return)),o&64&&Oi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Un;if(un(n,e),cn(e),o&512&&(ce||r===null||Jn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Qr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Pe(f,o,r),f[_e]=e,le(f),o=f;break t;case"link":var v=P_("link","href",h).get(o+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Pe(f,o,r),h.head.appendChild(f);break;case"meta":if(v=P_("meta","content",h).get(o+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Pe(f,o,r),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[_e]=e,le(f),o=f}e.stateNode=o}else L_(h,e.type,e.stateNode);else e.stateNode=k_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?L_(h,e.type,e.stateNode):k_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&_f(e,e.memoizedProps,r.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(ce||r===null||Jn(r,r.return)),r!==null&&o&4&&_f(e,e.memoizedProps,r.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(ce||r===null||Jn(r,r.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,_f(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Ef=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Fu=null,h=Un,Un=Hu(n.containerInfo),un(n,e),Un=h,cn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(B){$t(e,e.return,B)}Ef&&(Ef=!1,Gp(e));break;case 4:o=Un,Un=Hu(e.stateNode.containerInfo),un(n,e),cn(e),Un=o;break;case 12:un(n,e),cn(e);break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(If=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 22:h=e.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=Oi,H=ce;if(Oi=L||h,ce=H||b,un(n,e),ce=H,Oi=L,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||b||Oi||ce||ys(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Tf(e,r))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Tf(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(kp(o)){r=o;break}o=o.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=yf(e);Nu(e,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(yn(v,""),r.flags&=-33);var E=yf(e);Nu(e,E,v);break;case 3:case 4:var b=r.stateNode.containerInfo,L=yf(e);vf(e,L,b);break;default:throw Error(s(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function sr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),ys(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Up(n,n.return,r),ys(n);break;case 27:Yo(n.stateNode);case 26:case 5:Jn(n,n.return),ys(n);break;case 22:n.memoizedState===null&&ys(n);break;case 30:ys(n);break;default:ys(n)}e=e.sibling}}function ar(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,r),Lo(4,f);break;case 1:if(ar(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)vg(b[h],E)}catch(L){$t(o,o.return,L)}}r&&v&64&&Vp(f),zo(f,f.return);break;case 27:Pp(f);case 26:case 5:ar(h,f,r),r&&o===null&&v&4&&xp(f),zo(f,f.return);break;case 12:ar(h,f,r);break;case 13:ar(h,f,r),r&&v&4&&jp(h,f);break;case 22:f.memoizedState===null&&ar(h,f,r),zo(f,f.return);break;case 30:break;default:ar(h,f,r)}n=n.sibling}}function Af(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&bo(r))}function Sf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bo(e))}function Wn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,r,o),n=n.sibling}function Fp(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,r,o),h&2048&&Lo(9,n);break;case 1:Wn(e,n,r,o);break;case 3:Wn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bo(e)));break;case 12:if(h&2048){Wn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else Wn(e,n,r,o);break;case 13:Wn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,r,o):Bo(e,n):f._visibility&2?Wn(e,n,r,o):(f._visibility|=2,ha(e,n,r,o,(n.subtreeFlags&10256)!==0)),h&2048&&Af(v,n);break;case 24:Wn(e,n,r,o),h&2048&&Sf(n.alternate,n);break;default:Wn(e,n,r,o)}}function ha(e,n,r,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=r,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:ha(f,v,E,b,h),Lo(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?ha(f,v,E,b,h):Bo(f,v):(H._visibility|=2,ha(f,v,E,b,h)),h&&L&2048&&Af(v.alternate,v);break;case 24:ha(f,v,E,b,h),h&&L&2048&&Sf(v.alternate,v);break;default:ha(f,v,E,b,h)}n=n.sibling}}function Bo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Bo(r,o),h&2048&&Af(o.alternate,o);break;case 24:Bo(r,o),h&2048&&Sf(o.alternate,o);break;default:Bo(r,o)}n=n.sibling}}var qo=8192;function fa(e){if(e.subtreeFlags&qo)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 26:fa(e),e.flags&qo&&e.memoizedState!==null&&oA(Un,e.memoizedState,e.memoizedProps);break;case 5:fa(e);break;case 3:case 4:var n=Un;Un=Hu(e.stateNode.containerInfo),fa(e),Un=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=qo,qo=16777216,fa(e),qo=n):fa(e));break;default:fa(e)}}function Kp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Xp(o,e)}Kp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&rr(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ou(e)):jo(e);break;default:jo(e)}}function Ou(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];De=o,Xp(o,e)}Kp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Ou(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ou(n));break;default:Ou(n)}e=e.sibling}}function Xp(e,n){for(;De!==null;){var r=De;switch(r.tag){case 0:case 11:case 15:rr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:bo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,De=o;else t:for(r=e;De!==null;){o=De;var h=o.sibling,f=o.return;if(Bp(o),o===r){De=null;break t}if(h!==null){h.return=f,De=h;break t}De=f}}}var S0={getCacheForType:function(e){var n=je(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},b0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Ct=null,xt=0,Ft=0,hn=null,or=!1,da=!1,bf=!1,Vi=0,oe=0,lr=0,vs=0,Rf=0,In=0,ma=0,Ho=null,tn=null,wf=!1,If=0,Mu=1/0,Vu=null,ur=null,ke=0,cr=null,ga=null,pa=0,Cf=0,Df=null,$p=null,Go=0,Nf=null;function fn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(j.T!==null){var e=ia;return e!==0?e:Pf()}return Fi()}function Zp(){In===0&&(In=(xt&536870912)===0||Bt?Ja():536870912);var e=wn.current;return e!==null&&(e.flags|=32),In}function dn(e,n,r){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(_a(e,0),hr(e,xt,In,!1)),hi(e,r),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(vs|=r),oe===4&&hr(e,xt,In,!1)),ti(e))}function Jp(e,n,r){if((Gt&6)!==0)throw Error(s(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||Fr(e,n),h=o?I0(e,n):Vf(e,n,!0),f=o;do{if(h===0){da&&!o&&hr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!R0(r)){h=Vf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;h=Ho;var b=E.current.memoizedState.isDehydrated;if(b&&(_a(E,v).flags|=256),v=Vf(E,v,!1),v!==2){if(bf&&!b){E.errorRecoveryDisabledLanes|=f,vs|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){_a(e,0),hr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:hr(o,n,In,!or);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=If+300-pn(),10<h)){if(hr(o,n,In,!or),Us(o,0,!0)!==0)break t;o.timeoutHandle=I_(Wp.bind(null,o,r,tn,Vu,wf,n,In,vs,ma,or,f,2,-0,0),h);break t}Wp(o,r,tn,Vu,wf,n,In,vs,ma,or,f,0,-0,0)}}break}while(!0);ti(e)}function Wp(e,n,r,o,h,f,v,E,b,L,H,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Zo={stylesheets:null,count:0,unsuspend:aA},Qp(n),Q=lA(),Q!==null)){e.cancelPendingCommit=Q(a_.bind(null,e,n,f,r,o,h,v,E,b,H,1,z,B)),hr(e,f,v,!L);return}a_(e,n,f,r,o,h,v,E,b)}function R0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function hr(e,n,r,o){n&=~Rf,n&=~vs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),v=1<<f;o[f]=-1,h&=~v}r!==0&&zn(e,r,n)}function Uu(){return(Gt&6)===0?(Fo(0),!1):!0}function Of(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ri=ds=null,Kh(e),ua=null,xo=0,e=Ct;for(;e!==null;)Mp(e.alternate,e),e=e.return;Ct=null}}function _a(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,H0(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Of(),Jt=e,Ct=r=Ai(e.current,null),xt=n,Ft=0,hn=null,or=!1,da=Fr(e,n),bf=!1,ma=In=Rf=vs=lr=oe=0,tn=Ho=null,wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),f=1<<h;n|=e[h],o&=~f}return Vi=n,nu(),r}function t_(e,n){bt=null,j.H=Tu,n===wo||n===hu?(n=_g(),Ft=3):n===mg?(n=_g(),Ft=4):Ft=n===yp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Ct===null&&(oe=1,wu(e,An(n,e.current)))}function e_(){var e=j.H;return j.H=Tu,e===null?Tu:e}function n_(){var e=j.A;return j.A=S0,e}function Mf(){oe=4,or||(xt&4194048)!==xt&&wn.current!==null||(da=!0),(lr&134217727)===0&&(vs&134217727)===0||Jt===null||hr(Jt,xt,In,!1)}function Vf(e,n,r){var o=Gt;Gt|=2;var h=e_(),f=n_();(Jt!==e||xt!==n)&&(Vu=null,_a(e,n)),n=!1;var v=oe;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,b=hn;switch(Ft){case 8:Of(),v=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var L=Ft;if(Ft=0,hn=null,ya(e,E,b,L),r&&da){v=0;break t}break;default:L=Ft,Ft=0,hn=null,ya(e,E,b,L)}}w0(),v=oe;break}catch(H){t_(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ri=ds=null,Gt=o,j.H=h,j.A=f,Ct===null&&(Jt=null,xt=0,nu()),v}function w0(){for(;Ct!==null;)i_(Ct)}function I0(e,n){var r=Gt;Gt|=2;var o=e_(),h=n_();Jt!==e||xt!==n?(Vu=null,Mu=pn()+500,_a(e,n)):da=Fr(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,ya(e,n,f,1);break;case 2:case 9:if(gg(f)){Ft=0,hn=null,r_(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:gg(f)?(Ft=0,hn=null,r_(n)):(Ft=0,hn=null,ya(e,n,f,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var E=Ct;if(!v||z_(v)){Ft=0,hn=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,xu(L)):Ct=null}break e}}Ft=0,hn=null,ya(e,n,f,5);break;case 6:Ft=0,hn=null,ya(e,n,f,6);break;case 8:Of(),oe=6;break t;default:throw Error(s(462))}}C0();break}catch(H){t_(e,H)}while(!0);return Ri=ds=null,j.H=o,j.A=h,Gt=r,Ct!==null?0:(Jt=null,xt=0,nu(),oe)}function C0(){for(;Ct!==null&&!Ya();)i_(Ct)}function i_(e){var n=Np(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,n===null?xu(e):Ct=n}function r_(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=bp(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=bp(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Kh(n);default:Mp(r,n),n=Ct=sg(n,Vi),n=Np(r,n,Vi)}e.memoizedProps=e.pendingProps,n===null?xu(e):Ct=n}function ya(e,n,r,o){Ri=ds=null,Kh(n),ua=null,xo=0;var h=n.return;try{if(_0(e,h,n,r,xt)){oe=1,wu(e,An(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;oe=1,wu(e,An(r,e.current)),Ct=null;return}n.flags&32768?(Bt||o===1?e=!0:da||(xt&536870912)!==0?e=!1:(or=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),s_(n,e)):xu(n)}function xu(e){var n=e;do{if((n.flags&32768)!==0){s_(n,or);return}e=n.return;var r=v0(n.alternate,n,Vi);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);oe===0&&(oe=5)}function s_(e,n){do{var r=E0(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);oe=6,Ct=null}function a_(e,n,r,o,h,f,v,E,b){e.cancelPendingCommit=null;do ku();while(ke!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Ah,to(e,r,f,v,E,b),e===Jt&&(Ct=Jt=null,xt=0),ga=n,cr=e,pa=r,Cf=f,Df=h,$p=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M0(qr,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=tt.p,tt.p=2,v=Gt,Gt|=4;try{T0(e,n,r)}finally{Gt=v,tt.p=h,j.T=o}}ke=1,o_(),l_(),u_()}}function o_(){if(ke===1){ke=0;var e=cr,n=ga,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{Hp(n,e);var f=Ff,v=Xm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&Ym(E.ownerDocument.documentElement,E)){if(b!==null&&_h(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),mt=E.textContent.length,ht=Math.min(b.start,mt),Xt=b.end===void 0?ht:Math.min(b.end,mt);!B.extend&&ht>Xt&&(v=Xt,Xt=ht,ht=v);var V=Km(E,ht),D=Km(E,Xt);if(V&&D&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(V.node,V.offset),B.removeAllRanges(),ht>Xt?(B.addRange(P),B.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),B.addRange(P))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Yu=!!Gf,Ff=Gf=null}finally{Gt=h,tt.p=o,j.T=r}}e.current=n,ke=2}}function l_(){if(ke===2){ke=0;var e=cr,n=ga,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Gt;Gt|=4;try{zp(e,n.alternate,n)}finally{Gt=h,tt.p=o,j.T=r}}ke=3}}function u_(){if(ke===4||ke===3){ke=0,Ol();var e=cr,n=ga,r=pa,o=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,ga=cr=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ur=null),xs(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=tt.p,tt.p=2,j.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=h}}(pa&3)!==0&&ku(),ti(e),h=e.pendingLanes,(r&4194090)!==0&&(h&42)!==0?e===Nf?Go++:(Go=0,Nf=e):Go=0,Fo(0)}}function c_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bo(n)))}function ku(e){return o_(),l_(),u_(),h_()}function h_(){if(ke!==5)return!1;var e=cr,n=Cf;Cf=0;var r=xs(pa),o=j.T,h=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Df,Df=null;var f=cr,v=pa;if(ke=0,ga=cr=null,pa=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Yp(f.current),Fp(f,f.current,v,r),Gt=E,Fo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,j.T=o,c_(e,n)}}function f_(e,n,r){n=An(r,n),n=lf(e.stateNode,n,2),e=tr(e,n,2),e!==null&&(hi(e,2),ti(e))}function $t(e,n,r){if(e.tag===3)f_(e,e,r);else for(;n!==null;){if(n.tag===3){f_(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){e=An(r,e),r=pp(2),o=tr(n,r,2),o!==null&&(_p(r,o,n,e),hi(o,2),ti(o));break}}n=n.return}}function Uf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new b0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(bf=!0,h.add(r),e=D0.bind(null,e,n,r),n.then(e,e))}function D0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(xt&r)===r&&(oe===4||oe===3&&(xt&62914560)===xt&&300>pn()-If?(Gt&2)===0&&_a(e,0):Rf|=r,ma===xt&&(ma=0)),ti(e)}function d_(e,n){n===0&&(n=Wa()),e=Ws(e,n),e!==null&&(hi(e,n),ti(e))}function N0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),d_(e,r)}function O0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),d_(e,r)}function M0(e,n){return zr(e,n)}var Pu=null,va=null,xf=!1,Lu=!1,kf=!1,Es=0;function ti(e){e!==va&&e.next===null&&(va===null?Pu=va=e:va=va.next=e),Lu=!0,xf||(xf=!0,U0())}function Fo(e,n){if(!kf&&Lu){kf=!0;do for(var r=!1,o=Pu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,__(o,f))}else f=xt,f=Us(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Fr(o,f)||(r=!0,__(o,f));o=o.next}while(r);kf=!1}}function V0(){m_()}function m_(){Lu=xf=!1;var e=0;Es!==0&&(j0()&&(e=Es),Es=0);for(var n=pn(),r=null,o=Pu;o!==null;){var h=o.next,f=g_(o,n);f===0?(o.next=null,r===null?Pu=h:r.next=h,h===null&&(va=r)):(r=o,(e!==0||(f&3)!==0)&&(Lu=!0)),o=h}Fo(e)}function g_(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-qe(f),E=1<<v,b=h[v];b===-1?((E&r)===0||(E&o)!==0)&&(h[v]=Za(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=xt,r=Us(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Br(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Fr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Br(o),xs(r)){case 2:case 8:r=Ms;break;case 32:r=qr;break;case 268435456:r=Vs;break;default:r=qr}return o=p_.bind(null,e),r=zr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Br(o),e.callbackPriority=2,e.callbackNode=null,2}function p_(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ku()&&e.callbackNode!==r)return null;var o=xt;return o=Us(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jp(e,o,n),g_(e,pn()),e.callbackNode!=null&&e.callbackNode===r?p_.bind(null,e):null)}function __(e,n){if(ku())return null;Jp(e,n,!0)}function U0(){G0(function(){(Gt&6)!==0?zr(Xa,V0):m_()})}function Pf(){return Es===0&&(Es=Ja()),Es}function y_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qs(""+e)}function v_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function x0(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=y_((h[fe]||null).action),v=o.submitter;v&&(n=(n=v[fe]||null)?y_(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new js("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Es!==0){var b=v?v_(h,v):new FormData(h);nf(r,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?v_(h,v):new FormData(h),nf(r,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var Lf=0;Lf<Th.length;Lf++){var zf=Th[Lf],k0=zf.toLowerCase(),P0=zf[0].toUpperCase()+zf.slice(1);Vn(k0,"on"+P0)}Vn(Jm,"onAnimationEnd"),Vn(Wm,"onAnimationIteration"),Vn(tg,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(t0,"onTransitionRun"),Vn(e0,"onTransitionStart"),Vn(n0,"onTransitionCancel"),Vn(eg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function E_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){Ru(H)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){Ru(H)}h.currentTarget=null,f=b}}}}function Dt(e,n){var r=n[no];r===void 0&&(r=n[no]=new Set);var o=e+"__bubble";r.has(o)||(T_(n,e,2,!1),r.add(o))}function Bf(e,n,r){var o=0;n&&(o|=4),T_(r,e,o,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[zu]){e[zu]=!0,io.forEach(function(r){r!=="selectionchange"&&(L0.has(r)||Bf(r,!1,e),Bf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zu]||(n[zu]=!0,Bf("selectionchange",!1,n))}}function T_(e,n,r,o){switch(F_(n)){case 2:var h=hA;break;case 8:h=fA;break;default:h=ed}r=h.bind(null,n,r,e),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function jf(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=fi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}ql(function(){var L=f,H=vn(r),Q=[];t:{var z=ng.get(e);if(z!==void 0){var B=js,mt=e;switch(e){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":B=Ys;break;case"focusin":mt="focus",B=Fs;break;case"focusout":mt="blur",B=Fs;break;case"beforeblur":case"afterblur":B=Fs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Xl;break;case Jm:case Wm:case tg:B=Qs;break;case eg:B=Zl;break;case"scroll":case"scrollend":B=jl;break;case"wheel":B=Xs;break;case"copy":case"cut":case"paste":B=Ks;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=po;break;case"toggle":case"beforetoggle":B=Wl}var ht=(n&4)!==0,Xt=!ht&&(e==="scroll"||e==="scrollend"),V=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=L,P;D!==null;){var G=D;if(P=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||P===null||V===null||(G=Wr(D,V),G!=null&&ht.push(Ko(D,G,P))),Xt)break;D=D.return}0<ht.length&&(z=new B(z,mt,null,r,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==pi&&(mt=r.relatedTarget||r.fromElement)&&(fi(mt)||mt[_n]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(mt=r.relatedTarget||r.toElement,B=L,mt=mt?fi(mt):null,mt!==null&&(Xt=c(mt),ht=mt.tag,mt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(B=null,mt=L),B!==mt)){if(ht=Tn,G="onMouseLeave",V="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=po,G="onPointerLeave",V="onPointerEnter",D="pointer"),Xt=B==null?z:qn(B),P=mt==null?z:qn(mt),z=new ht(G,D+"leave",B,r,H),z.target=Xt,z.relatedTarget=P,G=null,fi(H)===L&&(ht=new ht(V,D+"enter",mt,r,H),ht.target=P,ht.relatedTarget=Xt,G=ht),Xt=G,B&&mt)e:{for(ht=B,V=mt,D=0,P=ht;P;P=Ea(P))D++;for(P=0,G=V;G;G=Ea(G))P++;for(;0<D-P;)ht=Ea(ht),D--;for(;0<P-D;)V=Ea(V),P--;for(;D--;){if(ht===V||V!==null&&ht===V.alternate)break e;ht=Ea(ht),V=Ea(V)}ht=null}else ht=null;B!==null&&A_(Q,z,B,ht,!1),mt!==null&&Xt!==null&&A_(Q,Xt,mt,ht,!0)}}t:{if(z=L?qn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=qm;else if(ve(z))if(jm)rt=ZT;else{rt=XT;var It=YT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&lo(L.elementType)&&(rt=qm):rt=$T;if(rt&&(rt=rt(e,L))){Ti(Q,rt,r,H);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Xi(z,"number",z.value)}switch(It=L?qn(L):window,e){case"focusin":(ve(It)||It.contentEditable==="true")&&($s=It,yh=L,vo=null);break;case"focusout":vo=yh=$s=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,$m(Q,r,H);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":$m(Q,r,H)}var at;if(Yn)t:{switch(e){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Vt?q(e,r)&&(ft="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ft="onCompositionStart");ft&&(_&&r.locale!=="ko"&&(Vt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Vt&&(at=co()):(Gn=H,$i="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),It=Bu(L,ft),0<It.length&&(ft=new mo(ft,e,null,r,H),Q.push({event:ft,listeners:It}),at?ft.data=at:(at=W(r),at!==null&&(ft.data=at)))),(at=m?ye(e,r):Ut(e,r))&&(ft=Bu(L,"onBeforeInput"),0<ft.length&&(It=new mo("onBeforeInput","beforeinput",null,r,H),Q.push({event:It,listeners:ft}),It.data=at)),x0(Q,e,L,r,H)}E_(Q,n)})}function Ko(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Bu(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wr(e,r),h!=null&&o.unshift(Ko(e,h,f)),h=Wr(e,n),h!=null&&o.push(Ko(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function A_(e,n,r,o,h){for(var f=n._reactName,v=[];r!==null&&r!==o;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Wr(r,f),L!=null&&v.unshift(Ko(r,L,b))):h||(L=Wr(r,f),L!=null&&v.push(Ko(r,L,b)))),r=r.return}v.length!==0&&e.push({event:n,listeners:v})}var z0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function S_(e){return(typeof e=="string"?e:""+e).replace(z0,`
`).replace(B0,"")}function b_(e,n){return n=S_(n),S_(e)===n}function qu(){}function Yt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":jn(e,"class",o);break;case"tabIndex":jn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(e,r,o);break;case"style":oo(e,o,f);break;case"data":if(n!=="object"){jn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=qs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=qs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=qu);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=qs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Yi(e,"popover",o);break;case"xlinkActuate":Ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=hh.get(r)||r,Yi(e,r,o))}}function Hf(e,n,r,o,h,f){switch(r){case"style":oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Yi(e,r,o)}}}function Pe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,f,v,r,null)}}h&&Yt(e,n,"srcSet",r.srcSet,r,null),o&&Yt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":h=H;break;case"type":v=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Yt(e,n,o,H,r,null)}}$r(e,f,E,b,L,v,h,!1),Bs(e);return;case"select":Dt("invalid",e),o=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,n,h,E,r,null)}n=f,r=v,e.multiple=!!o,n!=null?gi(e,!!o,n,!1):r!=null&&gi(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,n,v,E,r,null)}Zr(e,o,h,f),Bs(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,b,o,r,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Qo.length;o++)Dt(Qo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,L,o,r,null)}return;default:if(lo(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Hf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Yt(e,n,E,o,r,null))}function q0(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,H=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Q&&Yt(e,n,z,B,o,Q)}}an(e,v,E,b,L,H,f,h);return;case"select":B=v=E=z=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=r[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Yt(e,n,h,f,o,b)}n=E,r=v,o=B,z!=null?gi(e,!!r,z,!1):!!o!=!!r&&(n!=null?gi(e,!!r,n,!0):gi(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(v in o)if(h=o[v],f=r[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,n,v,h,o,f)}Qt(e,z,B);return;case"option":for(var mt in r)if(z=r[mt],r.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Yt(e,n,mt,null,o,z)}for(b in o)if(z=o[b],B=r[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Yt(e,n,ht,null,o,z);for(L in o)if(z=o[L],B=r[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Yt(e,n,L,z,o,B)}return;default:if(lo(n)){for(var Xt in r)z=r[Xt],r.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&Hf(e,n,Xt,void 0,o,z);for(H in o)z=o[H],B=r[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||Hf(e,n,H,z,o,B);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Yt(e,n,V,null,o,z);for(Q in o)z=o[Q],B=r[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,n,Q,z,o,B)}var Gf=null,Ff=null;function ju(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Qf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kf=null;function j0(){var e=window.event;return e&&e.type==="popstate"?e===Kf?!1:(Kf=e,!0):(Kf=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(e){return C_.resolve(null).then(e).catch(F0)}:I_;function F0(e){setTimeout(function(){throw e})}function fr(e){return e==="head"}function D_(e,n){var r=n,o=0,h=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var v=e.ownerDocument;if(r&1&&Yo(v.documentElement),r&2&&Yo(v.body),r&4)for(r=v.head,Yo(r),v=r.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Qr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(h===0){e.removeChild(f),nl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);nl(n)}function Yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Yf(r),Ki(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Q0(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Qr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function K0(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=xn(e.nextSibling),e===null))return null;return e}function Xf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Y0(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var $f=null;function N_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function O_(e,n,r){switch(n=ju(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ki(e)}var Cn=new Map,M_=new Set;function Hu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=tt.d;tt.d={f:X0,r:$0,D:Z0,C:J0,L:W0,m:tA,X:nA,S:eA,M:iA};function X0(){var e=Ui.f(),n=Uu();return e||n}function $0(e){var n=Bn(e);n!==null&&n.tag===5&&n.type==="form"?Jg(n):Ui.r(e)}var Ta=typeof document>"u"?null:document;function V_(e,n,r){var o=Ta;if(o&&typeof n=="string"&&n){var h=de(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Pe(n,"link",e),le(n),o.head.appendChild(n)))}}function Z0(e){Ui.D(e),V_("dns-prefetch",e,null)}function J0(e,n){Ui.C(e,n),V_("preconnect",e,n)}function W0(e,n,r){Ui.L(e,n,r);var o=Ta;if(o&&e&&n){var h='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+de(r.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var f=h;switch(n){case"style":f=Aa(e);break;case"script":f=Sa(e)}Cn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Cn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Xo(f))||n==="script"&&o.querySelector($o(f))||(n=o.createElement("link"),Pe(n,"link",e),le(n),o.head.appendChild(n)))}}function tA(e,n){Ui.m(e,n);var r=Ta;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sa(e)}if(!Cn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Cn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector($o(f)))return}o=r.createElement("link"),Pe(o,"link",e),le(o),r.head.appendChild(o)}}}function eA(e,n,r){Ui.S(e,n,r);var o=Ta;if(o&&e){var h=Ye(o).hoistableStyles,f=Aa(e);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(Xo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Cn.get(f))&&Zf(e,r);var b=v=o.createElement("link");le(b),Pe(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Gu(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function nA(e,n){Ui.X(e,n);var r=Ta;if(r&&e){var o=Ye(r).hoistableScripts,h=Sa(e),f=o.get(h);f||(f=r.querySelector($o(h)),f||(e=A({src:e,async:!0},n),(n=Cn.get(h))&&Jf(e,n),f=r.createElement("script"),le(f),Pe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function iA(e,n){Ui.M(e,n);var r=Ta;if(r&&e){var o=Ye(r).hoistableScripts,h=Sa(e),f=o.get(h);f||(f=r.querySelector($o(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Cn.get(h))&&Jf(e,n),f=r.createElement("script"),le(f),Pe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function U_(e,n,r,o){var h=(h=_t.current)?Hu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Aa(r.href),r=Ye(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Aa(r.href);var f=Ye(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Xo(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(e,r),f||rA(h,e,r,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sa(r),r=Ye(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Aa(e){return'href="'+de(e)+'"'}function Xo(e){return'link[rel="stylesheet"]['+e+"]"}function x_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Pe(n,"link",r),le(n),e.head.appendChild(n))}function Sa(e){return'[src="'+de(e)+'"]'}function $o(e){return"script[async]"+e}function k_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+de(r.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Pe(o,"style",h),Gu(o,r.precedence,e),n.instance=o;case"stylesheet":h=Aa(r.href);var f=e.querySelector(Xo(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=x_(r),(h=Cn.get(h))&&Zf(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Pe(f,"link",o),n.state.loading|=4,Gu(f,r.precedence,e),n.instance=f;case"script":return f=Sa(r.src),(h=e.querySelector($o(f)))?(n.instance=h,le(h),h):(o=r,(h=Cn.get(f))&&(o=A({},r),Jf(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Pe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Gu(o,r.precedence,e));return n.instance}function Gu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Zf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function P_(e,n,r){if(Fu===null){var o=new Map,h=Fu=new Map;h.set(r,o)}else h=Fu,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Qr]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function L_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function sA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zo=null;function aA(){}function oA(e,n,r){if(Zo===null)throw Error(s(475));var o=Zo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Aa(r.href),f=e.querySelector(Xo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Qu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,r=x_(r),(h=Cn.get(h))&&Zf(r,h),f=f.createElement("link"),le(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Pe(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Qu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function lA(){if(Zo===null)throw Error(s(475));var e=Zo;return e.stylesheets&&e.count===0&&Wf(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Wf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ku=null;function Wf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ku=new Map,n.forEach(uA,e),Ku=null,Qu.call(e))}function uA(e,n){if(!(n.state.loading&4)){var r=Ku.get(e);if(r)var o=r.get(null);else{r=new Map,Ku.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||o,f===o&&r.set(null,h),r.set(v,h),this.count++,o=Qu.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Jo={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function cA(e,n,r,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function B_(e,n,r,o,h,f,v,E,b,L,H,Q){return e=new cA(e,n,r,v,E,b,L,Q),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),e.current=f,f.stateNode=e,n=Vh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Ph(f),e}function q_(e){return e?(e=ta,e):ta}function j_(e,n,r,o,h,f){h=q_(h),o.context===null?o.context=h:o.pendingContext=h,o=Wi(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=tr(e,o,n),r!==null&&(dn(r,e,n),Co(r,e,n))}function H_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function td(e,n){H_(e,n),(e=e.alternate)&&H_(e,n)}function G_(e){if(e.tag===13){var n=Ws(e,67108864);n!==null&&dn(n,e,67108864),td(e,67108864)}}var Yu=!0;function hA(e,n,r,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=2,ed(e,n,r,o)}finally{tt.p=f,j.T=h}}function fA(e,n,r,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=8,ed(e,n,r,o)}finally{tt.p=f,j.T=h}}function ed(e,n,r,o){if(Yu){var h=nd(o);if(h===null)jf(e,n,o,Xu,r),Q_(e,o);else if(mA(h,e,n,r,o))o.stopPropagation();else if(Q_(e,o),n&4&&-1<dA.indexOf(e)){for(;h!==null;){var f=Bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Nn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-qe(v);E.entanglements[1]|=b,v&=~b}ti(f),(Gt&6)===0&&(Mu=pn()+500,Fo(0))}}break;case 13:E=Ws(f,2),E!==null&&dn(E,f,2),Uu(),td(f,2)}if(f=nd(o),f===null&&jf(e,n,o,Xu,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else jf(e,n,o,null,r)}}function nd(e){return e=vn(e),id(e)}var Xu=null;function id(e){if(Xu=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xu=e,null}function F_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sh()){case Xa:return 2;case Ms:return 8;case qr:case ah:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var rd=!1,dr=null,mr=null,gr=null,Wo=new Map,tl=new Map,pr=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(e,n){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function el(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Bn(n),n!==null&&G_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mA(e,n,r,o,h){switch(n){case"focusin":return dr=el(dr,e,n,r,o,h),!0;case"dragenter":return mr=el(mr,e,n,r,o,h),!0;case"mouseover":return gr=el(gr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Wo.set(f,el(Wo.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,tl.set(f,el(tl.get(f)||null,e,n,r,o,h)),!0}return!1}function K_(e){var n=fi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Ul(e.priority,function(){if(r.tag===13){var o=fn();o=Gi(o);var h=Ws(r,o);h!==null&&dn(h,r,o),td(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=nd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);pi=o,r.target.dispatchEvent(o),pi=null}else return n=Bn(r),n!==null&&G_(n),e.blockedOn=r,!1;n.shift()}return!0}function Y_(e,n,r){$u(e)&&r.delete(n)}function gA(){rd=!1,dr!==null&&$u(dr)&&(dr=null),mr!==null&&$u(mr)&&(mr=null),gr!==null&&$u(gr)&&(gr=null),Wo.forEach(Y_),tl.forEach(Y_)}function Zu(e,n){e.blockedOn===n&&(e.blockedOn=null,rd||(rd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,gA)))}var Ju=null;function X_(e){Ju!==e&&(Ju=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ju===e&&(Ju=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(id(o||r)===null)continue;break}var f=Bn(r);f!==null&&(e.splice(n,3),n-=3,nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function nl(e){function n(b){return Zu(b,e)}dr!==null&&Zu(dr,e),mr!==null&&Zu(mr,e),gr!==null&&Zu(gr,e),Wo.forEach(n),tl.forEach(n);for(var r=0;r<pr.length;r++){var o=pr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)K_(r),r.blockedOn===null&&pr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],v=h[fe]||null;if(typeof f=="function")v||X_(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[fe]||null)E=v.formAction;else if(id(h)!==null)continue}else E=v.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),X_(r)}}}function sd(e){this._internalRoot=e}Wu.prototype.render=sd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=fn();j_(r,o,e,n,null,null)},Wu.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),Uu(),n[_n]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Fi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,e),r===0&&K_(e)}};var $_=t.version;if($_!=="19.1.0")throw Error(s(527,$_,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var pA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{se=tc.inject(pA),Ht=tc}catch{}}return rl.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",h=fp,f=dp,v=mp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=B_(e,1,!1,null,null,r,o,h,f,v,E,null),e[_n]=n.current,qf(e),new sd(n)},rl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,h="",f=fp,v=dp,E=mp,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=B_(e,1,!0,n,r??null,o,h,f,v,E,b,L),n.context=q_(null),r=n.current,o=fn(),o=Gi(o),h=Wi(o),h.callback=null,tr(r,h,o),r=o,n.current.lanes=r,hi(n,r),ti(n),e[_n]=n.current,qf(e),new Wu(n)},rl.version="19.1.0",rl}var ay;function wA(){if(ay)return ld.exports;ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),ld.exports=RA(),ld.exports}var IA=wA();const CA=()=>st.jsxs(st.Fragment,{children:["    ",st.jsx("div",{className:" fixed top-0 left-0 w-full bg-yellow-500 z-20 rounded-lg p-4 shadow-md flex justify-center items-center text-3xl font-black text-gray-900 h-20 ",children:"🌟 MY PERSONAL JOURNAL 🌧️"})]}),DA=()=>{};var oy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},NA=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,p=l+2<a.length,y=p?a[l+2]:0,A=c>>2,C=(c&3)<<4|g>>4;let k=(g&15)<<2|y>>6,F=y&63;p||(F=64,d||(k=64)),s.push(i[A],i[C],i[k],i[F])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Nv(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):NA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const C=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||y==null||C==null)throw new OA;const k=c<<2|g>>4;if(s.push(k),y!==64){const F=g<<4&240|y>>2;if(s.push(F),C!==64){const Z=y<<6&192|C;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MA=function(a){const t=Nv(a);return Ov.encodeByteArray(t,!0)},yc=function(a){return MA(a).replace(/\./g,"")},Mv=function(a){try{return Ov.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=()=>VA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof oy>"u")return;const a=oy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},kA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Mv(a[1]);return t&&JSON.parse(t)},Lc=()=>{try{return DA()||UA()||xA()||kA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Vv=a=>{var t,i;return(i=(t=Lc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},PA=a=>{const t=Vv(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Uv=()=>{var a;return(a=Lc())===null||a===void 0?void 0:a.config},xv=a=>{var t;return(t=Lc())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[yc(JSON.stringify(i)),yc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function qA(){var a;const t=(a=Lc())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function GA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FA(){const a=Ke();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function QA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KA(){try{return typeof indexedDB=="object"}catch{return!1}}function YA(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class ji extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=XA,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tl.prototype.create)}}class Tl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?$A(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ji(l,g,s)}}function $A(a,t){return a.replace(ZA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const ZA=/\{\$([^}]+)}/g;function JA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function bs(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=a[l],d=t[l];if(ly(c)&&ly(d)){if(!bs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ly(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function WA(a,t){const i=new tS(a,t);return i.subscribe.bind(i)}class tS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");eS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=fd),l.error===void 0&&(l.error=fd),l.complete===void 0&&(l.complete=fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eS(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(a){return a&&a._delegate?a._delegate:a}class Rs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new LA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(rS(t))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ts){return this.instances.has(t)}getOptions(t=Ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ts){return this.component?this.component.multipleInstances?t:Ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(a){return a===Ts?void 0:a}function rS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new nS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Nt||(Nt={}));const aS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},oS=Nt.INFO,lS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},uS=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=lS[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xd{constructor(t){this.name=t,this._logLevel=oS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const cS=(a,t)=>t.some(i=>a instanceof i);let uy,cy;function hS(){return uy||(uy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kv=new WeakMap,Sd=new WeakMap,Pv=new WeakMap,dd=new WeakMap,$d=new WeakMap;function dS(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(br(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&kv.set(i,a)}).catch(()=>{}),$d.set(t,a),t}function mS(a){if(Sd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Sd.set(a,t)}let bd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Sd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Pv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return br(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function gS(a){bd=a(bd)}function pS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(md(this),t,...i);return Pv.set(s,t.sort?t.sort():[t]),br(s)}:fS().includes(a)?function(...t){return a.apply(md(this),t),br(kv.get(this))}:function(...t){return br(a.apply(md(this),t))}}function _S(a){return typeof a=="function"?pS(a):(a instanceof IDBTransaction&&mS(a),cS(a,hS())?new Proxy(a,bd):a)}function br(a){if(a instanceof IDBRequest)return dS(a);if(dd.has(a))return dd.get(a);const t=_S(a);return t!==a&&(dd.set(a,t),$d.set(t,a)),t}const md=a=>$d.get(a);function yS(a,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=br(d);return s&&d.addEventListener("upgradeneeded",p=>{s(br(d.result),p.oldVersion,p.newVersion,br(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const vS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],gd=new Map;function hy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(gd.get(t))return gd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=ES.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||vS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&p.done]))[0]};return gd.set(t,c),c}gS(a=>({...a,get:(t,i,s)=>hy(t,i)||a.get(t,i,s),has:(t,i)=>!!hy(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(AS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function AS(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rd="@firebase/app",fy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Xd("@firebase/app"),SS="@firebase/app-compat",bS="@firebase/analytics-compat",RS="@firebase/analytics",wS="@firebase/app-check-compat",IS="@firebase/app-check",CS="@firebase/auth",DS="@firebase/auth-compat",NS="@firebase/database",OS="@firebase/data-connect",MS="@firebase/database-compat",VS="@firebase/functions",US="@firebase/functions-compat",xS="@firebase/installations",kS="@firebase/installations-compat",PS="@firebase/messaging",LS="@firebase/messaging-compat",zS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",jS="@firebase/remote-config-compat",HS="@firebase/storage",GS="@firebase/storage-compat",FS="@firebase/firestore",QS="@firebase/vertexai",KS="@firebase/firestore-compat",YS="firebase",XS="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",$S={[Rd]:"fire-core",[SS]:"fire-core-compat",[RS]:"fire-analytics",[bS]:"fire-analytics-compat",[IS]:"fire-app-check",[wS]:"fire-app-check-compat",[CS]:"fire-auth",[DS]:"fire-auth-compat",[NS]:"fire-rtdb",[OS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[VS]:"fire-fn",[US]:"fire-fn-compat",[xS]:"fire-iid",[kS]:"fire-iid-compat",[PS]:"fire-fcm",[LS]:"fire-fcm-compat",[zS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[jS]:"fire-rc-compat",[HS]:"fire-gcs",[GS]:"fire-gcs-compat",[FS]:"fire-fst",[KS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[YS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,ZS=new Map,Id=new Map;function dy(a,t){try{a.container.addComponent(t)}catch(i){Pi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Va(a){const t=a.name;if(Id.has(t))return Pi.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,a);for(const i of vc.values())dy(i,a);for(const i of ZS.values())dy(i,a);return!0}function Zd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ni(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new Tl("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=XS;function Lv(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:wd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Rr.create("bad-app-name",{appName:String(l)});if(i||(i=Uv()),!i)throw Rr.create("no-options");const c=vc.get(l);if(c){if(bs(i,c.options)&&bs(s,c.config))return c;throw Rr.create("duplicate-app",{appName:l})}const d=new sS(l);for(const p of Id.values())d.addComponent(p);const g=new WS(i,s,d);return vc.set(l,g),g}function zv(a=wd){const t=vc.get(a);if(!t&&a===wd&&Uv())return Lv();if(!t)throw Rr.create("no-app",{appName:a});return t}function wr(a,t,i){var s;let l=(s=$S[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pi.warn(g.join(" "));return}Va(new Rs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebase-heartbeat-database",eb=1,dl="firebase-heartbeat-store";let pd=null;function Bv(){return pd||(pd=yS(tb,eb,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(dl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Rr.create("idb-open",{originalErrorMessage:a.message})})),pd}async function nb(a){try{const i=(await Bv()).transaction(dl),s=await i.objectStore(dl).get(qv(a));return await i.done,s}catch(t){if(t instanceof ji)Pi.warn(t.message);else{const i=Rr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Pi.warn(i.message)}}}async function my(a,t){try{const s=(await Bv()).transaction(dl,"readwrite");await s.objectStore(dl).put(t,qv(a)),await s.done}catch(i){if(i instanceof ji)Pi.warn(i.message);else{const s=Rr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(s.message)}}}function qv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1024,rb=30;class sb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ob(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=gy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>rb){const d=lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=gy(),{heartbeatsToSend:s,unsentEntries:l}=ab(this._heartbeatsCache.heartbeats),c=yc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Pi.warn(i),""}}}function gy(){return new Date().toISOString().substring(0,10)}function ab(a,t=ib){const i=[];let s=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),py(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),py(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class ob{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KA()?YA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return my(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function py(a){return yc(JSON.stringify({version:2,heartbeats:a})).length}function lb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a){Va(new Rs("platform-logger",t=>new TS(t),"PRIVATE")),Va(new Rs("heartbeat",t=>new sb(t),"PRIVATE")),wr(Rd,fy,a),wr(Rd,fy,"esm2017"),wr("fire-js","")}ub("");var cb="firebase",hb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(cb,hb,"app");var _y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,jv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,M,U){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return S.prototype[M].apply(N,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,R){R||(R=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;16>M;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],M=O.g[2];var U=O.g[3],w=S+(U^R&(M^U))+N[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+N[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+N[2]+606105819&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+N[3]+3250441966&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+N[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+N[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+N[6]+2821735955&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+N[7]+4249261313&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+N[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+N[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+N[10]+4294925233&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+N[11]+2304563134&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(U^R&(M^U))+N[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=U+(M^S&(R^M))+N[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=M+(R^U&(S^R))+N[14]+2792965006&4294967295,M=U+(w<<17&4294967295|w>>>15),w=R+(S^M&(U^S))+N[15]+1236535329&4294967295,R=M+(w<<22&4294967295|w>>>10),w=S+(M^U&(R^M))+N[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+N[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+N[11]+643717713&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+N[0]+3921069994&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+N[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+N[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+N[15]+3634488961&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+N[4]+3889429448&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+N[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+N[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+N[3]+4107603335&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+N[8]+1163531501&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(M^U&(R^M))+N[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=U+(R^M&(S^R))+N[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=M+(S^R&(U^S))+N[7]+1735328473&4294967295,M=U+(w<<14&4294967295|w>>>18),w=R+(U^S&(M^U))+N[12]+2368359562&4294967295,R=M+(w<<20&4294967295|w>>>12),w=S+(R^M^U)+N[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+N[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+N[11]+1839030562&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+N[14]+4259657740&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+N[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+N[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+N[7]+4139469664&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+N[10]+3200236656&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+N[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+N[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+N[3]+3572445317&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+N[6]+76029189&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(R^M^U)+N[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=U+(S^R^M)+N[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=M+(U^S^R)+N[15]+530742520&4294967295,M=U+(w<<16&4294967295|w>>>16),w=R+(M^U^S)+N[2]+3299628645&4294967295,R=M+(w<<23&4294967295|w>>>9),w=S+(M^(R|~U))+N[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+N[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+N[14]+2878612391&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+N[5]+4237533241&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+N[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+N[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+N[10]+4293915773&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+N[1]+2240044497&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+N[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+N[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+N[6]+2734768916&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+N[13]+1309151649&4294967295,R=M+(w<<21&4294967295|w>>>11),w=S+(M^(R|~U))+N[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=U+(R^(S|~M))+N[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=M+(S^(U|~R))+N[2]+718787259&4294967295,M=U+(w<<15&4294967295|w>>>17),w=R+(U^(M|~S))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=R;)l(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){l(this,N),M=0;break}}else for(;U<S;)if(N[M++]=O[U++],M==this.blockSize){l(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var N=0;32>N;N+=8)O[R++]=this.g[S]>>>N&255;return O};function c(O,S){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function d(O,S){this.h=S;for(var R=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==S||(R[M]=U,N=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?c(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return C;if(0>O)return J(y(-O));for(var S=[],R=1,N=0;O>=R;N++)S[N]=O/R|0,R*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return J(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),N=C,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+U),S);8>U?(U=y(Math.pow(S,U)),N=N.j(U).add(y(w))):(N=N.j(R),N=N.add(y(w)))}return N}var C=p(0),k=p(1),F=p(16777216);a=d.prototype,a.m=function(){if(nt(this))return-J(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*S,S*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(nt(this))return"-"+J(this).toString(O);for(var S=y(Math.pow(O,6)),R=this,N="";;){var M=Pt(R,S).g;R=St(R,M.j(S));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,Z(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}a.l=function(O){return O=St(this,O),nt(O)?-1:Z(O)?0:1};function J(O){for(var S=O.g.length,R=[],N=0;N<S;N++)R[N]=~O.g[N];return new d(R,~O.h).add(k)}a.abs=function(){return nt(this)?J(this):this},a.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),w=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=w>>>16,U&=65535,w&=65535,R[M]=w<<16|U}return new d(R,R[R.length-1]&-2147483648?-1:0)};function St(O,S){return O.add(J(S))}a.j=function(O){if(Z(this)||Z(O))return C;if(nt(this))return nt(O)?J(this).j(J(O)):J(J(this).j(O));if(nt(O))return J(this.j(J(O)));if(0>this.l(F)&&0>O.l(F))return y(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,w=this.i(N)&65535,Me=O.i(M)>>>16,re=O.i(M)&65535;R[2*N+2*M]+=w*re,Tt(R,2*N+2*M),R[2*N+2*M+1]+=U*re,Tt(R,2*N+2*M+1),R[2*N+2*M+1]+=w*Me,Tt(R,2*N+2*M+1),R[2*N+2*M+2]+=U*Me,Tt(R,2*N+2*M+2)}for(N=0;N<S;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=S;N<2*S;N++)R[N]=0;return new d(R,0)};function Tt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function dt(O,S){this.g=O,this.h=S}function Pt(O,S){if(Z(S))throw Error("division by zero");if(Z(O))return new dt(C,C);if(nt(O))return S=Pt(J(O),S),new dt(J(S.g),J(S.h));if(nt(S))return S=Pt(O,J(S)),new dt(J(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=k,N=S;0>=N.l(O);)R=yt(R),N=yt(N);var M=Mt(R,1),U=Mt(N,1);for(N=Mt(N,2),R=Mt(R,2);!Z(N);){var w=U.add(N);0>=w.l(O)&&(M=M.add(R),U=w),N=Mt(N,1),R=Mt(R,1)}return S=St(O,M.j(S)),new dt(M,S)}for(M=C;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=y(R),w=U.j(S);nt(w)||0<w.l(O);)R-=N,U=y(R),w=U.j(S);Z(U)&&(U=k),M=M.add(U),O=St(O,w)}return new dt(M,O)}a.A=function(O){return Pt(this,O).h},a.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)&O.i(N);return new d(R,this.h&O.h)},a.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)|O.i(N);return new d(R,this.h|O.h)},a.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],N=0;N<S;N++)R[N]=this.i(N)^O.i(N);return new d(R,this.h^O.h)};function yt(O){for(var S=O.g.length+1,R=[],N=0;N<S;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(R,O.h)}function Mt(O,S){var R=S>>5;S%=32;for(var N=O.g.length-R,M=[],U=0;U<N;U++)M[U]=0<S?O.i(U+R)>>>S|O.i(U+R+1)<<32-S:O.i(U+R);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ir=d}).apply(typeof _y<"u"?_y:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,sl,Gv,lc,Cd,Fv,Qv,Kv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in _))break t;_=_[x]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,x={next:function(){if(!T&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function C(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),u.apply(m,x)}}return function(){return u.apply(m,arguments)}}function k(u,m,_){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,k.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,x,q){for(var W=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)W[Vt-2]=arguments[Vt];return m.prototype[x].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function J(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const x=u.length||0,q=T.length||0;u.length=x+q;for(let W=0;W<q;W++)u[x+W]=T[W]}else u.push(T)}}class St{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Tt(u){return/^[\s\xa0]*$/.test(u)}function dt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var yt=dt().indexOf("Gecko")!=-1&&!(dt().toLowerCase().indexOf("webkit")!=-1&&dt().indexOf("Edge")==-1)&&!(dt().indexOf("Trident")!=-1||dt().indexOf("MSIE")!=-1)&&dt().indexOf("Edge")==-1;function Mt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(_ in T)u[_]=T[_];for(let q=0;q<R.length;q++)_=R[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,_){const T=re.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new St(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,zt=new Me,I=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){U(_)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(yt){t:{try{Pt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,$);var _t={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,_,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=x,this.key=++Zt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,_,T,x){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=zr(u,m,T,x);return-1<W?(m=u[W],_||(m.fa=!1)):(m=new Ln(m,this.src,q,!!T,x),m.fa=_,u.push(m)),m};function Lr(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],x=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=x)&&Array.prototype.splice.call(T,x,1),q&&(Hi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function zr(u,m,_,T){for(var x=0;x<u.length;++x){var q=u[x];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==T)return x}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Ya={};function Ol(u,m,_,T,x){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Ol(u,m[q],_,T,x);return null}return _=Ml(_),u&&u[Re]?u.K(m,_,y(T)?!!T.capture:!1,x):pn(u,m,_,!1,T,x)}function pn(u,m,_,T,x,q){if(!m)throw Error("Invalid event type");var W=y(x)?!!x.capture:!!x,Vt=Vs(u);if(Vt||(u[Br]=Vt=new ui(u)),_=Vt.add(m,_,T,W,q),_.proxy)return _;if(T=sh(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)ut||(x=W),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent(qr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sh(){function u(_){return m.call(u.src,u.listener,_)}const m=ah;return u}function Xa(u,m,_,T,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xa(u,m[q],_,T,x);else T=y(T)?!!T.capture:!!T,_=Ml(_),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=zr(q,_,T,x),-1<_&&(Hi(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Vs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=zr(m,_,T,x)),(_=-1<u?m[u]:null)&&Ms(_))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Lr(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(qr(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Vs(m))?(Lr(_,u),_.h==0&&(_.src=null,m[Br]=null)):Hi(u)}}}function qr(u){return u in Ya?Ya[u]:Ya[u]="on"+u}function ah(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&Ms(u),u=_.call(T,m)}return u}function Vs(u){return u=u[Br],u instanceof ui?u:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ml(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function se(){et.call(this),this.i=new ui(this),this.M=this,this.F=null}Z(se,et),se.prototype[Re]=!0,se.prototype.removeEventListener=function(u,m,_,T){Xa(this,u,m,_,T)};function Ht(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var x=m;m=new $(T,u),N(m,x)}if(x=!0,_)for(var q=_.length-1;0<=q;q--){var W=m.g=_[q];x=sn(W,T,!0,m)&&x}if(W=m.g=u,x=sn(W,T,!0,m)&&x,x=sn(W,T,!1,m)&&x,_)for(q=0;q<_.length;q++)W=m.g=_[q],x=sn(W,T,!1,m)&&x}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Hi(_[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},se.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function sn(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==_){var Vt=W.listener,ye=W.ha||W.src;W.fa&&Lr(u.i,W),x=Vt.call(ye,T)!==!1&&x}}return x&&!T.defaultPrevented}function qe(u,m,_){if(typeof u=="function")_&&(u=k(u,_));else if(u&&typeof u.handleEvent=="function")u=k(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Vl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Vl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class oh extends et{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){et.call(this),this.h=u,this.g={}}Z(jr,et);var Hr=[];function Gr(u){Mt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ms(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Gr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Us=g.JSON.parse,Fr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Za(){}Za.prototype.h=null;function Ja(u){return u.h||(u.h=u.i())}function Wa(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){$.call(this,"d")}Z(hi,$);function to(){$.call(this,"c")}Z(to,$);var zn={},eo=null;function Gi(){return eo=eo||new se}zn.La="serverreachability";function xs(u){$.call(this,zn.La,u)}Z(xs,$);function Fi(u){const m=Gi();Ht(m,new xs(m))}zn.STAT_EVENT="statevent";function Ul(u,m){$.call(this,zn.STAT_EVENT,u),this.stat=m}Z(Ul,$);function Wt(u){const m=Gi();Ht(m,new Ul(m,u))}zn.Ma="timingevent";function _e(u,m){$.call(this,zn.Ma,u),this.size=m}Z(_e,$);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function no(u,m,_,T,x,q){u.info(function(){if(u.g)if(q)for(var W="",Vt=q.split("&"),ye=0;ye<Vt.length;ye++){var Ut=Vt[ye].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var ve=Ie.split("_");W=2<=ve.length&&ve[1]=="type"?W+(Ie+"="+Ut+"&"):W+(Ie+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+_+`
`+W})}function lh(u,m,_,T,x,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+_+`
`+q+" "+W})}function Qi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Qr(u,_)+(T?" "+T:"")})}function xl(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function Qr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<x.length;W++)x[W]=""}}}}return Nn(_)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}Z(qn,Za),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Ye(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var io={},ks={};function On(u,m,_){u.L=1,u.v=Zr(an(m)),u.m=_,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Kr(u),u.A=an(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),uo(_.i,"t",T),u.C=0,_=u.j.J,u.h=new le,u.g=Zl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new oh(k(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var x="readystatechange";Array.isArray(x)||(x&&(Hr[0]=x.toString()),x=Hr);for(var q=0;q<x.length;q++){var W=Ol(_,x[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),no(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const ve=Tn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||Hl(this.g)))){this.J||ve!=4||m==7||(m==8||0>=Ti?Fi(3):Fi(2)),Yi(this);var _=this.g.Z();this.X=_;e:if(kl(this)){var T=Hl(this.g);u="";var x=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),jn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==x-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=_==200,lh(this.i,this.u,this.A,this.l,this.R,ve,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,ye=this.g;if((Vt=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(Vt)){var Ut=Vt;break e}}Ut=null}if(_=Ut)Qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,_);else{this.o=!1,this.s=3,Wt(12),Ve(this),jn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=Pl(this,W),Ue==ks){ve==4&&(this.s=4,Wt(14),_=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==io){this.s=4,Wt(15),Qi(this.i,this.l,W,"[Invalid Chunk]"),_=!1;break}else Qi(this.i,this.l,Ue,null),Yr(this,Ue);if(kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),_=!1),this.o=this.o&&_,!_)Qi(this.i,this.l,W,"[Invalid Chunked Response]"),Ve(this),jn(this);else if(0<W.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),ss(Ie),Ie.M=!0,Wt(11))}}else Qi(this.i,this.l,W,null),Yr(this,W);ve==4&&Ve(this),this.o&&!this.J&&(ve==4?Yl(this.j,this):(this.o=!1,Kr(this)))}else dh(this.g),_==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Ve(this),jn(this)}}}catch{}finally{}};function kl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Pl(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?ks:(_=Number(m.substring(_,T)),isNaN(_)?io:(T+=1,T+_>m.length?ks:(m=m.slice(T,T+_),u.C=T+_,m)))}Ye.prototype.cancel=function(){this.J=!0,Ve(this)};function Kr(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(k(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xl(this.i,this.A),this.L!=2&&(Fi(),Wt(17)),Ve(this),this.s=2,jn(this)):Ll(this,this.S-u)};function jn(u){u.j.G==0||u.J||Yl(u.j,u)}function Ve(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Gr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ro(_.h,u))){if(!u.K&&ro(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ys(_),Qs(_);else break t;go(_),Wt(18)}}else _.za=x[1],0<_.za-_.T&&37500>x[2]&&_.F&&_.v==0&&!_.C&&(_.C=fe(k(_.Za,_),6e3));if(1>=Ls(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&Ys(_),!Tt(m))for(x=_.Da.g.parse(m),m=0;m<x.length;m++){let Ut=x[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const ve=Ut[4];ve!=null&&(_.Aa=ve,_.j.info("SVER="+_.Aa));const Ti=Ut[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Ue=u.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var q=T.h;q.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(zs(q,q.h),q.h=null))}if(T.D){const _o=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(T.ya=_o,Qt(T.I,T.D,_o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var W=u;if(T.qa=$l(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Vt=W,ye=T.L;ye&&(Vt.I=ye),Vt.B&&(Yi(Vt),Kr(Vt)),T.g=W}else Ql(T);0<_.i.length&&Ks(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Ei(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ei(_,7):fo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Fi(4)}catch{}}var zl=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ps(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ls(u){return u.h?1:u.g?u.g.size:0}function ro(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zs(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function so(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return nt(u.i)}function uh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function ao(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Bs(u),T=uh(u),x=T.length,q=0;q<x;q++)m.call(void 0,T[q],_&&_[q],u)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),x=null;if(0<=T){var q=u[_].substring(0,T);x=u[_].substring(T+1)}else q=u[_];m(q,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,$r(this,u.j),this.o=u.o,this.g=u.g,Xi(this,u.s),this.l=u.l;var m=u.i,_=new pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),gi(this,_),this.m=u.m}else u&&(m=String(u).match(Xr))?(this.h=!1,$r(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Xi(this,m[4]),this.l=yn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Jr(m,oo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Jr(m,oo,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Jr(_,_.charAt(0)=="/"?hh:lo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Jr(_,qs)),u.join("")};function an(u){return new de(u)}function $r(u,m,_){u.j=_?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,_){m instanceof pi?(u.i=m,ql(u.i,u.h)):(_||(m=Jr(m,fh)),u.i=new pi(m,u.h))}function Qt(u,m,_){u.i.set(m,_)}function Zr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Bl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Bl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,lo=/[#\?:]/g,hh=/[#\?]/g,fh=/[#\?@]/g,qs=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&ch(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=pi.prototype,a.add=function(u,m){vn(this),this.i=null,u=Hn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function _i(u,m){vn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return vn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){vn(this),this.g.forEach(function(_,T){_.forEach(function(x){u.call(m,x,T,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const x=u[T];for(let q=0;q<x.length;q++)_.push(m[T])}return _},a.V=function(u){vn(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return vn(this),this.i=null,u=Hn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function uo(u,m,_){_i(u,m),0<_.length&&(u.i=null,u.g.set(Hn(u,m),nt(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var x=q;W[T]!==""&&(x+="="+encodeURIComponent(String(W[T]))),u.push(x)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ql(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,T){var x=T.toLowerCase();T!=x&&(_i(this,T),uo(this,x,_))},u)),u.j=m}function Wr(u,m){const _=new _n;if(g.Image){const T=new Image;T.onload=F(En,_,"TestLoadImage: loaded",!0,m,T),T.onerror=F(En,_,"TestLoadImage: error",!1,m,T),T.onabort=F(En,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(En,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mn(u,m){const _=new _n,T=new AbortController,x=setTimeout(()=>{T.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(x),q.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),En(_,"TestPingServer: error",!1,m)})}function En(u,m,_,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(_)}catch{}}function ts(){this.g=new Fr}function Gn(u,m,_){const T=_||"";try{ao(u,function(x,q){let W=x;y(x)&&(W=Nn(x)),m.push(T+q+"="+encodeURIComponent(W))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function $i(u){this.l=u.Ub||null,this.j=u.eb||!1}Z($i,Za),$i.prototype.g=function(){return new vi(this.l,this.j)},$i.prototype.i=function(u){return function(){return u}}({});function vi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(vi,se),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;co(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function co(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&co(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ho(u){let m="";return Mt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function we(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=ho(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,m,_))}function qt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,se);var js=/^https?$/i,es=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Ja(this.o):Ja(Bn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){jl(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)_.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),x=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(es,m,void 0))||T||x||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of _)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){jl(this,q)}};function jl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Hs(u),Kn(u)}function Hs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Kn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Gs(this):this.bb())},a.bb=function(){Gs(this)};function Gs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=W===0){var x=String(u.D).match(Xr)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!js.test(x?x.toLowerCase():"")}_=T}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Hs(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){ns(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=T}catch{}}}function ns(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Us(m)}};function Hl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(Tt(u[T]))continue;var _=M(u[T]);const x=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[x]||[];m[x]=q,q.push(_)}O(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Fs(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=is("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=is("baseRetryDelayMs",5e3,u),this.cb=is("retryDelaySeedMs",1e4,u),this.Wa=is("forwardChannelMaxRetries",2,u),this.wa=is("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Fs.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,T){Wt(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=$l(this,null,this.W),Ks(this)};function fo(u){if(Gl(u),u.G==3){var m=u.U++,_=an(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),rs(u,_),m=new Ye(u,u.j,m),m.L=2,m.v=Zr(an(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Zl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Kr(m)}Xl(u)}function Qs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function Gl(u){Qs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ys(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ks(u){if(!Ps(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||I(),ot||(tt(),ot=!0),zt.add(m,u),u.B=0}}function mh(u,m){return Ls(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(k(u.Ga,u,m),po(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const x=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(x.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Fl(this,x,m),_=an(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),rs(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(ho(q)))+"&"+m:this.m&&we(_,this.m,q)),zs(this.h,x),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),x.T=!0,On(x,_,null)):On(x,_,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||Ps(this.h)||mo(this))};function mo(u,m){var _;m?_=m.l:_=u.U++;const T=an(u.I);Qt(T,"SID",u.K),Qt(T,"RID",_),Qt(T,"AID",u.T),rs(u,T),u.m&&u.o&&we(T,u.m,u.o),_=new Ye(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Fl(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zs(u.h,_),On(_,T,m)}function rs(u,m){u.H&&Mt(u.H,function(_,T){Qt(m,T,_)}),u.l&&ao({},function(_,T){Qt(m,T,_)})}function Fl(u,m,_){_=Math.min(u.i.length,_);var T=u.l?k(u.l.Na,u.l,u):null;t:{var x=u.i;let q=-1;for(;;){const W=["count="+_];q==-1?0<_?(q=x[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Vt=!0;for(let ye=0;ye<_;ye++){let Ut=x[ye].g;const Ie=x[ye].map;if(Ut-=q,0>Ut)q=Math.max(0,x[ye].g-100),Vt=!1;else try{Gn(Ie,W,"req"+Ut+"_")}catch{T&&T(Ie)}}if(Vt){T=W.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function Ql(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||I(),ot||(tt(),ot=!0),zt.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(k(u.Fa,u),po(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(k(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Qs(this),Kl(this))};function ss(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),rs(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Zr(an(m)),_.m=null,_.P=!0,di(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Qs(this),go(this),Wt(19))};function Ys(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Yl(u,m){var _=null;if(u.g==m){Ys(u),ss(u),u.g=null;var T=2}else if(ro(u.h,m))_=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var x=u.B;T=Gi(),Ht(T,new _e(T,_)),Ks(u)}else Ql(u);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&mh(u,m)||T==2&&go(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),x){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function po(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=k(u.fb,u),T=u.Xa;const x=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$r(T,"https"),Zr(T),x?Wr(T.toString(),_):Mn(T.toString(),_)}else Wt(2);u.G=0,u.l&&u.l.sa(m),Xl(u),Gl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Xl(u){if(u.G=0,u.ka=[],u.l){const m=so(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function $l(u,m,_){var T=_ instanceof de?an(_):new de(_);if(T.g!="")m&&(T.g=m+"."+T.g),Xi(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var q=new de(null);T&&$r(q,T),m&&(q.g=m),x&&Xi(q,x),_&&(q.l=_),T=q}return _=u.D,m=u.ya,_&&m&&Qt(T,_,m),Qt(T,"VER",u.la),rs(u,T),T}function Zl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new $i({eb:_})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}a=Jl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Xs(){}Xs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Tt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Tt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}Z($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){fo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Nn(u),u=_);m.i.push(new zl(m.Ya++,u)),m.G==3&&Ks(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,$e.aa.N.call(this)};function Wl(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(Wl,hi);function tu(){to.call(this),this.status=1}Z(tu,to);function Yn(u){this.g=u}Z(Yn,Jl),Yn.prototype.ua=function(){Ht(this.g,"a")},Yn.prototype.ta=function(u){Ht(this.g,new Wl(u))},Yn.prototype.sa=function(u){Ht(this.g,new tu)},Yn.prototype.ra=function(){Ht(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Kv=function(){return new Xs},Qv=function(){return Gi()},Fv=zn,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,lc=Ki,fi.COMPLETE="complete",Gv=fi,Wa.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",se.prototype.listen=se.prototype.K,sl=Wa,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Hv=qt}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore",vy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Xd("@firebase/firestore");function ba(){return ws.logLevel}function it(a,...t){if(ws.logLevel<=Nt.DEBUG){const i=t.map(Jd);ws.debug(`Firestore (${Ha}): ${a}`,...i)}}function Li(a,...t){if(ws.logLevel<=Nt.ERROR){const i=t.map(Jd);ws.error(`Firestore (${Ha}): ${a}`,...i)}}function Ua(a,...t){if(ws.logLevel<=Nt.WARN){const i=t.map(Jd);ws.warn(`Firestore (${Ha}): ${a}`,...i)}}function Jd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(a="Unexpected state"){const t=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: `+a;throw Li(t),new Error(t)}function jt(a,t){a||gt()}function Et(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ji{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class db{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class mb{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string"),new Yv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string"),new Fe(t)}}class gb{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pb{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new gb(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ey{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _b{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ni(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ey(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new Ey(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=yb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Rt(a,t){return a<t?-1:a>t?1:0}function Dd(a,t){let i=0;for(;i<a.length&&i<t.length;){const s=a.codePointAt(i),l=t.codePointAt(i);if(s!==l){if(s<128&&l<128)return Rt(s,l);{const c=Xv(),d=vb(c.encode(Ty(a,i)),c.encode(Ty(t,i)));return d!==0?d:Rt(s,l)}}i+=s>65535?2:1}return Rt(a.length,t.length)}function Ty(a,t){return a.codePointAt(t)>65535?a.substring(t,t+2):a.substring(t,t+1)}function vb(a,t){for(let i=0;i<a.length&&i<t.length;++i)if(a[i]!==t[i])return Rt(a[i],t[i]);return Rt(a.length,t.length)}function xa(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-62135596800,Sy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(t){return Se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Sy);return new Se(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ay)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sy}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ay;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new Se(0,0))}static max(){return new vt(new Se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="__name__";class ei{constructor(t,i,s){i===void 0?i=0:i>t.length&&gt(),s===void 0?s=t.length-i:s>t.length-i&&gt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Rt(t.length,i.length)}static compareSegments(t,i){const s=ei.isNumericId(t),l=ei.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ei.extractNumericId(t).compare(ei.extractNumericId(i)):Dd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ir.fromString(t.substring(4,t.length-2))}}class ee extends ei{construct(t,i,s){return new ee(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const Eb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ei{construct(t,i,s){return new ze(t,i,s)}static isValidIdentifier(t){return Eb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===by}static keyField(){return new ze([by])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.path=t}static fromPath(t){return new ct(ee.fromString(t))}static fromName(t){return new ct(ee.fromString(t).popFirst(5))}static empty(){return new ct(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ct(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=-1;function Tb(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new Nr(l,ct.empty(),t)}function Ab(a){return new Nr(a.readTime,a.key,ml)}class Nr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Nr(vt.min(),ct.empty(),ml)}static max(){return new Nr(vt.max(),ct.empty(),ml)}}function Sb(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,t.documentKey),i!==0?i:Rt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==bb)throw a;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,s)=>{i(t)})}static reject(t){return new K((i,s)=>{s(t)})}static waitFor(t){return new K((i,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const s of t)i=i.next(l=>l?K.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(t,i){return new K((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(A=>{d[y]=A,++g,g===c&&s(d)},A=>l(A))}})}static doWhile(t,i){return new K((s,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):s()};c()})}}function wb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fa(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}zc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;function Bc(a){return a==null}function Ec(a){return a===0&&1/a==-1/0}function Ib(a){return typeof a=="number"&&Number.isInteger(a)&&!Ec(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="";function Cb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=Ry(t)),t=Db(a.get(i),t);return Ry(t)}function Db(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case Zv:i+="";break;default:i+=c}}return i}function Ry(a){return a+Zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function kr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function Jv(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||Le.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nc(this.root,t,this.comparator,!0)}}class nc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new Le(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(t,i,s,l,c){return this}insert(t,i,s){return new Le(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iy(this.data.getIterator())}getIteratorFrom(t){return new Iy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class Iy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new gn([])}unionWith(t){let i=new be(ze.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new gn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return xa(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Wv("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(a){if(jt(!!a),typeof a=="string"){let t=0;const i=Nb.exec(a);if(jt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Mr(a){return typeof a=="string"?Be.fromBase64String(a):Be.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="server_timestamp",eE="__type__",nE="__previous_value__",iE="__local_write_time__";function tm(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[eE])===null||i===void 0?void 0:i.stringValue)===tE}function qc(a){const t=a.mapValue.fields[nE];return tm(t)?qc(t):t}function gl(a){const t=Or(a.mapValue.fields[iE].timestampValue);return new Se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,i,s,l,c,d,g,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Tc="(default)";class pl{constructor(t,i){this.projectId=t,this.database=i||Tc}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(t){return t instanceof pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",Mb="__max__",ic={mapValue:{}},sE="__vector__",Ac="value";function Vr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?tm(a)?4:Ub(a)?9007199254740991:Vb(a)?10:11:gt()}function oi(a,t){if(a===t)return!0;const i=Vr(a);if(i!==Vr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return gl(a).isEqual(gl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Or(l.timestampValue),g=Or(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,c){return Mr(l.bytesValue).isEqual(Mr(c.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(a,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?Ec(d)===Ec(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return xa(a.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(wy(d)!==wy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(a,t);default:return gt()}}function _l(a,t){return(a.values||[]).find(i=>oi(i,t))!==void 0}function ka(a,t){if(a===t)return 0;const i=Vr(a),s=Vr(t);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(a.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(a,t);case 3:return Cy(a.timestampValue,t.timestampValue);case 4:return Cy(gl(a),gl(t));case 5:return Dd(a.stringValue,t.stringValue);case 6:return function(c,d){const g=Mr(c),p=Mr(d);return g.compareTo(p)}(a.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const A=Rt(g[y],p[y]);if(A!==0)return A}return Rt(g.length,p.length)}(a.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Rt(he(c.latitude),he(d.latitude));return g!==0?g:Rt(he(c.longitude),he(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return Dy(a.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,y,A;const C=c.fields||{},k=d.fields||{},F=(g=C[Ac])===null||g===void 0?void 0:g.arrayValue,Z=(p=k[Ac])===null||p===void 0?void 0:p.arrayValue,nt=Rt(((y=F==null?void 0:F.values)===null||y===void 0?void 0:y.length)||0,((A=Z==null?void 0:Z.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Dy(F,Z)}(a.mapValue,t.mapValue);case 11:return function(c,d){if(c===ic.mapValue&&d===ic.mapValue)return 0;if(c===ic.mapValue)return 1;if(d===ic.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},A=Object.keys(y);p.sort(),A.sort();for(let C=0;C<p.length&&C<A.length;++C){const k=Dd(p[C],A[C]);if(k!==0)return k;const F=ka(g[p[C]],y[A[C]]);if(F!==0)return F}return Rt(p.length,A.length)}(a.mapValue,t.mapValue);default:throw gt()}}function Cy(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Rt(a,t);const i=Or(a),s=Or(t),l=Rt(i.seconds,s.seconds);return l!==0?l:Rt(i.nanos,s.nanos)}function Dy(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ka(i[l],s[l]);if(c)return c}return Rt(i.length,s.length)}function Pa(a){return Nd(a)}function Nd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Or(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Mr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ct.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Nd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Nd(i.fields[d])}`;return l+"}"}(a.mapValue):gt()}function uc(a){switch(Vr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=qc(a);return t?16+uc(t):16;case 5:return 2*a.stringValue.length;case 6:return Mr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+uc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return kr(s.fields,(c,d)=>{l+=c.length+uc(d)}),l}(a.mapValue);default:throw gt()}}function Od(a){return!!a&&"integerValue"in a}function em(a){return!!a&&"arrayValue"in a}function Ny(a){return!!a&&"nullValue"in a}function Oy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function cc(a){return!!a&&"mapValue"in a}function Vb(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[rE])===null||i===void 0?void 0:i.stringValue)===sE}function ll(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return kr(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ll(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ll(a.arrayValue.values[i]);return t}return Object.assign({},a)}function Ub(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Mb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ll(i)}setAll(t){let i=ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=ll(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){kr(i,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new nn(ll(this.value))}}function aE(a){const t=[];return kr(a.fields,(i,s)=>{const l=new ze([i]);if(cc(s)){const c=aE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,vt.min(),vt.min(),vt.min(),nn.empty(),0)}static newFoundDocument(t,i,s,l){return new Qe(t,1,i,vt.min(),s,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,vt.min(),vt.min(),nn.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,vt.min(),vt.min(),nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,i){this.position=t,this.inclusive=i}}function My(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=ka(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vy(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!oi(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function xb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class Ae extends oE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Pb(t,i,s):i==="array-contains"?new Bb(t,s):i==="in"?new qb(t,s):i==="not-in"?new jb(t,s):i==="array-contains-any"?new Hb(t,s):new Ae(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Lb(t,s):new zb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ka(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends oE{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new li(t,i)}matches(t){return lE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lE(a){return a.op==="and"}function uE(a){return kb(a)&&lE(a)}function kb(a){for(const t of a.filters)if(t instanceof li)return!1;return!0}function Md(a){if(a instanceof Ae)return a.field.canonicalString()+a.op.toString()+Pa(a.value);if(uE(a))return a.filters.map(t=>Md(t)).join(",");{const t=a.filters.map(i=>Md(i)).join(",");return`${a.op}(${t})`}}function cE(a,t){return a instanceof Ae?function(s,l){return l instanceof Ae&&s.op===l.op&&s.field.isEqual(l.field)&&oi(s.value,l.value)}(a,t):a instanceof li?function(s,l){return l instanceof li&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&cE(d,l.filters[g]),!0):!1}(a,t):void gt()}function hE(a){return a instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${Pa(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"}(a):"Filter"}class Pb extends Ae{constructor(t,i,s){super(t,i,s),this.key=ct.fromName(s.referenceValue)}matches(t){const i=ct.comparator(t.key,this.key);return this.matchesComparison(i)}}class Lb extends Ae{constructor(t,i){super(t,"in",i),this.keys=fE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class zb extends Ae{constructor(t,i){super(t,"not-in",i),this.keys=fE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function fE(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class Bb extends Ae{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return em(i)&&_l(i.arrayValue,this.value)}}class qb extends Ae{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&_l(this.value.arrayValue,i)}}class jb extends Ae{constructor(t,i){super(t,"not-in",i)}matches(t){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!_l(this.value.arrayValue,i)}}class Hb extends Ae{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!em(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>_l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function Uy(a,t=null,i=[],s=[],l=null,c=null,d=null){return new Gb(a,t,i,s,l,c,d)}function nm(a){const t=Et(a);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Md(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Bc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Pa(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Pa(s)).join(",")),t.le=i}return t.le}function im(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!xb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!cE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Vy(a.startAt,t.startAt)&&Vy(a.endAt,t.endAt)}function Vd(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Fb(a,t,i,s,l,c,d,g){return new jc(a,t,i,s,l,c,d,g)}function dE(a){return new jc(a)}function xy(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Qb(a){return a.collectionGroup!==null}function ul(a){const t=Et(a);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new bc(c,s))}),i.has(ze.keyField().canonicalString())||t.he.push(new bc(ze.keyField(),s))}return t.he}function ii(a){const t=Et(a);return t.Pe||(t.Pe=Kb(t,ul(a))),t.Pe}function Kb(a,t){if(a.limitType==="F")return Uy(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new bc(l.field,c)});const i=a.endAt?new Sc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Sc(a.startAt.position,a.startAt.inclusive):null;return Uy(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Ud(a,t,i){return new jc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Hc(a,t){return im(ii(a),ii(t))&&a.limitType===t.limitType}function mE(a){return`${nm(ii(a))}|lt:${a.limitType}`}function Ra(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>hE(l)).join(", ")}]`),Bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Pa(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Pa(l)).join(",")),`Target(${s})`}(ii(a))}; limitType=${a.limitType})`}function Gc(a,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ct.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,t)&&function(s,l){for(const c of ul(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const y=My(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,ul(s),l)||s.endAt&&!function(d,g,p){const y=My(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,ul(s),l))}(a,t)}function Yb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function gE(a){return(t,i)=>{let s=!1;for(const l of ul(a)){const c=Xb(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Xb(a,t,i){const s=a.field.isKeyField()?ct.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?ka(p,y):gt()}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){kr(this.inner,(i,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new ie(ct.comparator);function zi(){return $b}const pE=new ie(ct.comparator);function al(...a){let t=pE;for(const i of a)t=t.insert(i.key,i);return t}function _E(a){let t=pE;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function As(){return cl()}function yE(){return cl()}function cl(){return new Ns(a=>a.toString(),(a,t)=>a.isEqual(t))}const Zb=new ie(ct.comparator),Jb=new be(ct.comparator);function Ot(...a){let t=Jb;for(const i of a)t=t.add(i);return t}const Wb=new be(Rt);function tR(){return Wb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(t)?"-0":t}}function vE(a){return{integerValue:""+a}}function eR(a,t){return Ib(t)?vE(t):rm(a,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function nR(a,t,i){return a instanceof Rc?function(l,c){const d={fields:{[eE]:{stringValue:tE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&tm(c)&&(c=qc(c)),c&&(d.fields[nE]=c),{mapValue:d}}(i,t):a instanceof yl?TE(a,t):a instanceof vl?AE(a,t):function(l,c){const d=EE(l,c),g=ky(d)+ky(l.Ie);return Od(d)&&Od(l.Ie)?vE(g):rm(l.serializer,g)}(a,t)}function iR(a,t,i){return a instanceof yl?TE(a,t):a instanceof vl?AE(a,t):i}function EE(a,t){return a instanceof wc?function(s){return Od(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Rc extends Fc{}class yl extends Fc{constructor(t){super(),this.elements=t}}function TE(a,t){const i=SE(t);for(const s of a.elements)i.some(l=>oi(l,s))||i.push(s);return{arrayValue:{values:i}}}class vl extends Fc{constructor(t){super(),this.elements=t}}function AE(a,t){let i=SE(t);for(const s of a.elements)i=i.filter(l=>!oi(l,s));return{arrayValue:{values:i}}}class wc extends Fc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function ky(a){return he(a.integerValue||a.doubleValue)}function SE(a){return em(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rR(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof yl&&l instanceof yl||s instanceof vl&&l instanceof vl?xa(s.elements,l.elements,oi):s instanceof wc&&l instanceof wc?oi(s.Ie,l.Ie):s instanceof Rc&&l instanceof Rc}(a.transform,t.transform)}class sR{constructor(t,i){this.version=t,this.transformResults=i}}class Pn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pn}static exists(t){return new Pn(void 0,t)}static updateTime(t){return new Pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function hc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Qc{}function bE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new sm(a.key,Pn.none()):new Sl(a.key,a.data,Pn.none());{const i=a.data,s=nn.empty();let l=new be(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Pr(a.key,s,new gn(l.toArray()),Pn.none())}}function aR(a,t,i){a instanceof Sl?function(l,c,d){const g=l.value.clone(),p=Ly(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Pr?function(l,c,d){if(!hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Ly(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(RE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function hl(a,t,i,s){return a instanceof Sl?function(c,d,g,p){if(!hc(c.precondition,d))return g;const y=c.value.clone(),A=zy(c.fieldTransforms,p,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,t,i,s):a instanceof Pr?function(c,d,g,p){if(!hc(c.precondition,d))return g;const y=zy(c.fieldTransforms,p,d),A=d.data;return A.setAll(RE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(a,t,i,s):function(c,d,g){return hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function oR(a,t){let i=null;for(const s of a.fieldTransforms){const l=t.data.field(s.field),c=EE(s.transform,l||null);c!=null&&(i===null&&(i=nn.empty()),i.set(s.field,c))}return i||null}function Py(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&xa(s,l,(c,d)=>rR(c,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Sl extends Qc{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Pr extends Qc{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function RE(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function Ly(a,t,i){const s=new Map;jt(a.length===i.length);for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,iR(d,g,i[l]))}return s}function zy(a,t,i){const s=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);s.set(l.field,nR(c,d,t))}return s}class sm extends Qc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lR extends Qc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&aR(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=hl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=hl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=yE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=bE(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Ot())}isEqual(t){return this.batchId===t.batchId&&xa(this.mutations,t.mutations,(i,s)=>Py(i,s))&&xa(this.baseMutations,t.baseMutations,(i,s)=>Py(i,s))}}class am{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){jt(t.mutations.length===s.length);let l=function(){return Zb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new am(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,kt;function fR(a){switch(a){case X.OK:return gt();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return gt()}}function wE(a){if(a===void 0)return Li("GRPC error has no .code"),X.UNKNOWN;switch(a){case pe.OK:return X.OK;case pe.CANCELLED:return X.CANCELLED;case pe.UNKNOWN:return X.UNKNOWN;case pe.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case pe.INTERNAL:return X.INTERNAL;case pe.UNAVAILABLE:return X.UNAVAILABLE;case pe.UNAUTHENTICATED:return X.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case pe.NOT_FOUND:return X.NOT_FOUND;case pe.ALREADY_EXISTS:return X.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return X.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case pe.ABORTED:return X.ABORTED;case pe.OUT_OF_RANGE:return X.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return X.UNIMPLEMENTED;case pe.DATA_LOSS:return X.DATA_LOSS;default:return gt()}}(kt=pe||(pe={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Ir([4294967295,4294967295],0);function By(a){const t=Xv().encode(a),i=new jv;return i.update(t),new Uint8Array(i.digest())}function qy(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ir([i,s],0),new Ir([l,c],0)]}class om{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ol(`Invalid padding: ${i}`);if(s<0)throw new ol(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new ol(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Ir.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(Ir.fromNumber(s)));return l.compare(dR)===1&&(l=new Ir([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=By(t),[s,l]=qy(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new om(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=By(t),[s,l]=qy(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,bl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Kc(vt.min(),l,new ie(Rt),zi(),Ot())}}class bl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new bl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class IE{constructor(t,i){this.targetId=t,this.ge=i}}class CE{constructor(t,i,s=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class jy{constructor(){this.pe=0,this.ye=Hy(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Ot(),i=Ot(),s=Ot();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt()}}),new bl(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=Hy()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class mR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=zi(),this.$e=rc(),this.Ue=rc(),this.Ke=new ie(Rt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:gt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const c=l.target;if(Vd(c))if(s===0){const d=new ct(c.path);this.ze(i,d,Qe.newNoDocument(d,vt.min()))}else jt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),p=g?this.nt(g,t,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Mr(s).toUint8Array()}catch(p){if(p instanceof Wv)return Ua("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new om(d,l,c)}catch(p){return Ua(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&Vd(g.target)){const p=new ct(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Qe.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Ot();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const l=new Kc(t,i,this.Ke,this.Qe,s);return this.Qe=zi(),this.$e=rc(),this.Ue=rc(),this.Ke=new ie(Rt),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new jy,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new be(Rt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new be(Rt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new jy),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function rc(){return new ie(ct.comparator)}function Hy(){return new ie(ct.comparator)}const gR={asc:"ASCENDING",desc:"DESCENDING"},pR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_R={and:"AND",or:"OR"};class yR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function xd(a,t){return a.useProto3Json||Bc(t)?t:{value:t}}function Ic(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function vR(a,t){return Ic(a,t.toTimestamp())}function ri(a){return jt(!!a),vt.fromTimestamp(function(i){const s=Or(i);return new Se(s.seconds,s.nanos)}(a))}function lm(a,t){return kd(a,t).canonicalString()}function kd(a,t){const i=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function NE(a){const t=ee.fromString(a);return jt(xE(t)),t}function Pd(a,t){return lm(a.databaseId,t.path)}function _d(a,t){const i=NE(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(ME(i))}function OE(a,t){return lm(a.databaseId,t)}function ER(a){const t=NE(a);return t.length===4?ee.emptyPath():ME(t)}function Ld(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function ME(a){return jt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function Gy(a,t,i){return{name:Pd(a,t),fields:i.value.mapValue.fields}}function TR(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(y,A){return y.useProto3Json?(jt(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(y){const A=y.code===void 0?X.UNKNOWN:wE(y.code);return new lt(A,y.message||"")}(d);i=new CE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=_d(a,s.document.name),c=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):vt.min(),g=new nn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),y=s.targetIds||[],A=s.removedTargetIds||[];i=new fc(y,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=_d(a,s.document),c=s.readTime?ri(s.readTime):vt.min(),d=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];i=new fc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=_d(a,s.document),c=s.removedTargetIds||[];i=new fc([],c,l,null)}else{if(!("filter"in t))return gt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new hR(l,c),g=s.targetId;i=new IE(g,d)}}return i}function AR(a,t){let i;if(t instanceof Sl)i={update:Gy(a,t.key,t.value)};else if(t instanceof sm)i={delete:Pd(a,t.key)};else if(t instanceof Pr)i={update:Gy(a,t.key,t.data),updateMask:OR(t.fieldMask)};else{if(!(t instanceof lR))return gt();i={verify:Pd(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof wc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw gt()}(0,s))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:vR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt()}(a,t.precondition)),i}function SR(a,t){return a&&a.length>0?(jt(t!==void 0),a.map(i=>function(l,c){let d=l.updateTime?ri(l.updateTime):ri(c);return d.isEqual(vt.min())&&(d=ri(c)),new sR(d,l.transformResults||[])}(i,t))):[]}function bR(a,t){return{documents:[OE(a,t.path)]}}function RR(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=OE(a,l);const c=function(y){if(y.length!==0)return UE(li.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(A=>function(k){return{field:wa(k.field),direction:CR(k.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=xd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:l}}function wR(a){let t=ER(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){jt(s===1);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(C){const k=VE(C);return k instanceof li&&uE(k)?k.getFilters():[k]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(k=>function(Z){return new bc(Ia(Z.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(k))}(i.orderBy));let g=null;i.limit&&(g=function(C){let k;return k=typeof C=="object"?C.value:C,Bc(k)?null:k}(i.limit));let p=null;i.startAt&&(p=function(C){const k=!!C.before,F=C.values||[];return new Sc(F,k)}(i.startAt));let y=null;return i.endAt&&(y=function(C){const k=!C.before,F=C.values||[];return new Sc(F,k)}(i.endAt)),Fb(t,l,d,c,g,"F",p,y)}function IR(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ia(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ia(i.unaryFilter.field);return Ae.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ia(i.unaryFilter.field);return Ae.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ia(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(a):a.fieldFilter!==void 0?function(i){return Ae.create(Ia(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>VE(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(a):gt()}function CR(a){return gR[a]}function DR(a){return pR[a]}function NR(a){return _R[a]}function wa(a){return{fieldPath:a.canonicalString()}}function Ia(a){return ze.fromServerFormat(a.fieldPath)}function UE(a){return a instanceof Ae?function(i){if(i.op==="=="){if(Oy(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NAN"}};if(Ny(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Oy(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NOT_NAN"}};if(Ny(i.value))return{unaryFilter:{field:wa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(i.field),op:DR(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(l=>UE(l));return s.length===1?s[0]:{compositeFilter:{op:NR(i.op),filters:s}}}(a):gt()}function OR(a){const t=[];return a.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function xE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,i,s,l,c=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.Tt=t}}function VR(a){const t=wR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ud(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.Tn=new xR}addToCollectionParentIndex(t,i){return this.Tn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Nr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Nr.min())}updateCollectionGroup(t,i,s){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class xR{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new be(ee.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(kE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new La(0)}static Kn(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LruGarbageCollector",kR=1048576;function Ky([a,t],[i,s]){const l=Rt(a,i);return l===0?Rt(t,s):l}class PR{constructor(t){this.Hn=t,this.buffer=new be(Ky),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Ky(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class LR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){it(Qy,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fa(i)?it(Qy,"Ignoring IndexedDB error during garbage collection: ",i):await Ga(i)}await this.er(3e5)})}}class zR{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return K.resolve(zc.ae);const s=new PR(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Fy)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fy):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,c,d,g,p,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,d=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(s=C,g=Date.now(),this.removeTargets(t,s,i))).next(C=>(c=C,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(C=>(y=Date.now(),ba()<=Nt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${C} documents in `+(y-p)+`ms
Total Duration: ${y-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:C})))}}function BR(a,t){return new zR(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.changes=new Ns(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&hl(s.mutation,l,gn.empty(),Se.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Ot()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Ot()){const l=As();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(c=>{let d=al();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=As();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Ot()))}populateOverlays(t,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let c=zi();const d=cl(),g=function(){return cl()}();return i.forEach((p,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Pr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),hl(A.mutation,y,A.mutation.getFieldMask(),Se.now())):d.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,A)=>d.set(y,A)),i.forEach((y,A)=>{var C;return g.set(y,new jR(A,(C=d.get(y))!==null&&C!==void 0?C:null))}),g))}recalculateAndSaveOverlays(t,i){const s=cl();let l=new ie((d,g)=>d-g),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let A=s.get(p)||gn.empty();A=g.applyToLocalView(y,A),s.set(p,A);const C=(l.get(g.batchId)||Ot()).add(p);l=l.insert(g.batchId,C)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,A=p.value,C=yE();A.forEach(k=>{if(!c.has(k)){const F=bE(i.get(k),s.get(k));F!==null&&C.set(k,F),c=c.add(k)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,C))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):K.resolve(As());let g=ml,p=c;return d.next(y=>K.forEach(y,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(k=>{p=p.insert(A,k)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Ot())).next(A=>({batchId:g,changes:_E(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ct(i)).next(s=>{let l=al();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=al();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const y=function(C,k){return new jc(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(A=>{A.forEach((C,k)=>{d=d.insert(C,k)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l))).next(d=>{c.forEach((p,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=al();return d.forEach((p,y)=>{const A=c.get(p);A!==void 0&&hl(A.mutation,y,gn.empty(),Se.now()),Gc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return K.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ri(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:VR(l.bundledQuery),readTime:ri(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.overlays=new ie(ct.comparator),this.Rr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const s=As();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,c)=>{this.Et(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(t,i,s){const l=As(),c=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new ie((y,A)=>y-A);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let A=c.get(y.largestBatchId);A===null&&(A=As(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=As(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,A)=>g.set(y,A)),!(g.size()>=l)););return K.resolve(g)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new cR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Ot(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.Vr=new be(Oe.mr),this.gr=new be(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Oe(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Oe(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new ct(new ee([])),s=new Oe(i,t),l=new Oe(i,t+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ct(new ee([])),s=new Oe(i,t),l=new Oe(i,t+1);let c=Ot();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Oe(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Oe{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ct.comparator(t.key,i.key)||Rt(t.Cr,i.Cr)}static pr(t,i){return Rt(t.Cr,i.Cr)||ct.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Oe.mr)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uR(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Oe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Wd:this.Fr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Oe(i,0),l=new Oe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new be(Rt);return i.forEach(l=>{const c=new Oe(l,0),d=new Oe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ct.isDocumentKey(c)||(c=c.child(""));const d=new Oe(new ct(c),0);let g=new be(Rt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Cr)),!0)},d),K.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(i.mutations,l=>{const c=new Oe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Oe(i,0),l=this.Mr.firstAfterOrEqual(s);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.kr=t,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let s=zi();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),K.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=zi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:A}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Sb(Ab(A),s)<=0||(l.has(A.key)||Gc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,s,l){gt()}qr(t,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new XR(this)}getSize(t){return K.resolve(this.size)}}class XR extends qR{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),K.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.persistence=t,this.Qr=new Ns(i=>nm(i),im),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new um,this.targetCount=0,this.Kr=La.Un()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),K.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new La(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.zn(i),K.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return K.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),K.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),K.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return K.resolve(s)}containsKey(t,i){return K.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new zc(0),this.zr=!1,this.zr=!0,this.jr=new QR,this.referenceDelegate=t(this),this.Hr=new $R(this),this.indexManager=new UR,this.remoteDocumentCache=function(l){return new YR(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new MR(i),this.Yr=new GR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new FR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new KR(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){it("MemoryPersistence","Starting transaction:",t);const l=new ZR(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,i){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class ZR extends Rb{constructor(t){super(),this.currentSequenceNumber=t}}class cm{constructor(t){this.persistence=t,this.ti=new um,this.ni=null}static ri(t){return new cm(t)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),K.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),K.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const l=ct.fromPath(s);return this.si(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return K.or([()=>K.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Cc{constructor(t,i){this.persistence=t,this.oi=new Ns(s=>Cb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=BR(this,i)}static ri(t,i){return new Cc(t,i)}Zr(){}Xr(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return K.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),K.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=uc(t.data.value)),i}ar(t,i,s){return K.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return K.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new hm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return QA()?8:wb(Ke())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new JR;return this._s(t,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>c.result)}us(t,i,s,l){return s.documentReadCount<this.es?(ba()<=Nt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Ra(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(ba()<=Nt.DEBUG&&it("QueryEngine","Query:",Ra(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(ba()<=Nt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Ra(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):K.resolve())}rs(t,i){if(xy(i))return K.resolve(null);let s=ii(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Ud(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Ot(...c);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(t,Ud(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,s,l){return xy(i)||l.isEqual(vt.min())?K.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,l)?K.resolve(null):(ba()<=Nt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ra(i)),this.hs(t,d,i,Tb(l,ml)).next(g=>g))})}cs(t,i){let s=new be(gE(t));return i.forEach((l,c)=>{Gc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,i,s){return ba()<=Nt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Ra(i)),this.ns.getDocumentsMatchingQuery(t,i,Nr.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="LocalStore",tw=3e8;class ew{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ie(Rt),this.Is=new Ns(c=>nm(c),im),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new HR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function nw(a,t,i,s){return new ew(a,t,i,s)}async function LE(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=Ot();for(const y of l){d.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function iw(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,A){const C=y.batch,k=C.keys();let F=K.resolve();return k.forEach(Z=>{F=F.next(()=>A.getEntry(p,Z)).next(nt=>{const J=y.docVersions.get(Z);jt(J!==null),nt.version.compareTo(J)<0&&(C.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(p,C))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Ot();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,l))})}function zE(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function rw(a,t){const i=Et(a),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((A,C)=>{const k=l.get(C);if(!k)return;g.push(i.Hr.removeMatchingKeys(c,A.removedDocuments,C).next(()=>i.Hr.addMatchingKeys(c,A.addedDocuments,C)));let F=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?F=F.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,s)),l=l.insert(C,F),function(nt,J,St){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=tw?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(k,F,A)&&g.push(i.Hr.updateTargetData(c,F))});let p=zi(),y=Ot();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(sw(c,d,t.documentUpdates).next(A=>{p=A.Vs,y=A.fs})),!s.isEqual(vt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(c).next(C=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=l,c))}function sw(a,t,i){let s=Ot(),l=Ot();return i.forEach(c=>s=s.add(c)),t.getEntries(a,s).next(c=>{let d=zi();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(fm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function aw(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Wd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function ow(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(c=>c?(l=c,K.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new Sr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function zd(a,t,i){const s=Et(a),l=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Fa(d))throw d;it(fm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function Yy(a,t,i){const s=Et(a);let l=vt.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,A){const C=Et(p),k=C.Is.get(A);return k!==void 0?K.resolve(C.Ts.get(k)):C.Hr.getTargetData(y,A)}(s,d,ii(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Ot())).next(g=>(lw(s,Yb(t),g),{documents:g,gs:c})))}function lw(a,t,i){let s=a.Es.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(t,s)}class Xy{constructor(){this.activeTargetIds=tR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uw{constructor(){this.ho=new Xy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Xy,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="ConnectivityMonitor";class Zy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it($y,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){it($y,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Bd(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",hw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fw{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,i,s,l,c){const d=Bd(),g=this.bo(t,i.toUriEncodedString());it(yd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(y=>(it(yd,`Received RPC '${t}' ${d}: `,y),y),y=>{throw Ua(yd,`RPC '${t}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(t,i,s,l,c,d){return this.So(t,i,s,l,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,i){const s=hw[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class mw extends fw{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const c=Bd();return new Promise((d,g)=>{const p=new Hv;p.setWithCredentials(!0),p.listenOnce(Gv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lc.NO_ERROR:const A=p.getResponseJson();it(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case lc.TIMEOUT:it(Ge,`RPC '${t}' ${c} timed out`),g(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const C=p.getStatus();if(it(Ge,`RPC '${t}' ${c} failed with status:`,C,"response text:",p.getResponseText()),C>0){let k=p.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const Z=function(J){const St=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(St)>=0?St:X.UNKNOWN}(F.status);g(new lt(Z,F.message))}else g(new lt(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new lt(X.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(Ge,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(l);it(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",y,s,15)})}Wo(t,i,s){const l=Bd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Kv(),g=Qv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const C=d.createWebChannel(A,p);let k=!1,F=!1;const Z=new dw({Fo:J=>{F?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(k||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),C.open(),k=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,J),C.send(J))},Mo:()=>C.close()}),nt=(J,St,Tt)=>{J.listen(St,dt=>{try{Tt(dt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return nt(C,sl.EventType.OPEN,()=>{F||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),Z.Qo())}),nt(C,sl.EventType.CLOSE,()=>{F||(F=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),Z.Uo())}),nt(C,sl.EventType.ERROR,J=>{F||(F=!0,Ua(Ge,`RPC '${t}' stream ${l} transport errored:`,J),Z.Uo(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),nt(C,sl.EventType.MESSAGE,J=>{var St;if(!F){const Tt=J.data[0];jt(!!Tt);const dt=Tt,Pt=(dt==null?void 0:dt.error)||((St=dt[0])===null||St===void 0?void 0:St.error);if(Pt){it(Ge,`RPC '${t}' stream ${l} received error:`,Pt);const yt=Pt.status;let Mt=function(R){const N=pe[R];if(N!==void 0)return wE(N)}(yt),O=Pt.message;Mt===void 0&&(Mt=X.INTERNAL,O="Unknown error status: "+yt+" with message "+Pt.message),F=!0,Z.Uo(new lt(Mt,O)),C.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,Tt),Z.Ko(Tt)}}),nt(g,Fv.STAT_EVENT,J=>{J.stat===Cd.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Cd.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(a){return new yR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="PersistentStream";class qE{constructor(t,i,s,l,c,d,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new lt(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return it(Jy,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(it(Jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gw extends qE{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=TR(this.serializer,t),s=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?ri(d.readTime):vt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Ld(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Vd(p)?{documents:bR(c,p)}:{query:RR(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=DE(c,d.resumeToken);const y=xd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Ic(c,d.snapshotVersion.toTimestamp());const y=xd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const s=IR(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Ld(this.serializer),i.removeTarget=t,this.I_(i)}}class pw extends qE{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return jt(!!t.streamToken),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=SR(t.writeResults,t.commitTime),s=ri(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Ld(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>AR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class yw extends _w{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,kd(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(X.UNKNOWN,c.toString())})}Co(t,i,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,kd(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class Ew{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Os(this)&&(it(Is,"Restarting streams for network reachability change."),await async function(p){const y=Et(p);y.W_.add(4),await Rl(y),y.j_.set("Unknown"),y.W_.delete(4),await Xc(y)}(this))})}),this.j_=new vw(s,l)}}async function Xc(a){if(Os(a))for(const t of a.G_)await t(!0)}async function Rl(a){for(const t of a.G_)await t(!1)}function jE(a,t){const i=Et(a);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),pm(i)?gm(i):Qa(i).c_()&&mm(i,t))}function dm(a,t){const i=Et(a),s=Qa(i);i.K_.delete(t),s.c_()&&HE(i,t),i.K_.size===0&&(s.c_()?s.P_():Os(i)&&i.j_.set("Unknown"))}function mm(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Qa(a).y_(t)}function HE(a,t){a.H_.Ne(t),Qa(a).w_(t)}function gm(a){a.H_=new mR({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.K_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),Qa(a).start(),a.j_.B_()}function pm(a){return Os(a)&&!Qa(a).u_()&&a.K_.size>0}function Os(a){return Et(a).W_.size===0}function GE(a){a.H_=void 0}async function Tw(a){a.j_.set("Online")}async function Aw(a){a.K_.forEach((t,i)=>{mm(a,t)})}async function Sw(a,t){GE(a),pm(a)?(a.j_.q_(t),gm(a)):a.j_.set("Unknown")}async function bw(a,t,i){if(a.j_.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(a,t)}catch(s){it(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Dc(a,s)}else if(t instanceof fc?a.H_.We(t):t instanceof IE?a.H_.Ze(t):a.H_.je(t),!i.isEqual(vt.min()))try{const s=await zE(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.K_.get(y);A&&c.K_.set(y,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const A=c.K_.get(p);if(!A)return;c.K_.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),HE(c,p);const C=new Sr(A.target,p,y,A.sequenceNumber);mm(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){it(Is,"Failed to raise snapshot:",s),await Dc(a,s)}}async function Dc(a,t,i){if(!Fa(t))throw t;a.W_.add(1),await Rl(a),a.j_.set("Offline"),i||(i=()=>zE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{it(Is,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Xc(a)})}function FE(a,t){return t().catch(i=>Dc(a,i,t))}async function $c(a){const t=Et(a),i=Ur(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:Wd;for(;Rw(t);)try{const l=await aw(t.localStore,s);if(l===null){t.U_.length===0&&i.P_();break}s=l.batchId,ww(t,l)}catch(l){await Dc(t,l)}QE(t)&&KE(t)}function Rw(a){return Os(a)&&a.U_.length<10}function ww(a,t){a.U_.push(t);const i=Ur(a);i.c_()&&i.S_&&i.b_(t.mutations)}function QE(a){return Os(a)&&!Ur(a).u_()&&a.U_.length>0}function KE(a){Ur(a).start()}async function Iw(a){Ur(a).C_()}async function Cw(a){const t=Ur(a);for(const i of a.U_)t.b_(i.mutations)}async function Dw(a,t,i){const s=a.U_.shift(),l=am.from(s,t,i);await FE(a,()=>a.remoteSyncer.applySuccessfulWrite(l)),await $c(a)}async function Nw(a,t){t&&Ur(a).S_&&await async function(s,l){if(function(d){return fR(d)&&d!==X.ABORTED}(l.code)){const c=s.U_.shift();Ur(s).h_(),await FE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await $c(s)}}(a,t),QE(a)&&KE(a)}async function Wy(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(Is,"RemoteStore received new credentials");const s=Os(i);i.W_.add(3),await Rl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Xc(i)}async function Ow(a,t){const i=Et(a);t?(i.W_.delete(2),await Xc(i)):t||(i.W_.add(2),await Rl(i),i.j_.set("Unknown"))}function Qa(a){return a.J_||(a.J_=function(i,s,l){const c=Et(i);return c.M_(),new gw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:Tw.bind(null,a),No:Aw.bind(null,a),Lo:Sw.bind(null,a),p_:bw.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),pm(a)?gm(a):a.j_.set("Unknown")):(await a.J_.stop(),GE(a))})),a.J_}function Ur(a){return a.Y_||(a.Y_=function(i,s,l){const c=Et(i);return c.M_(),new pw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:Iw.bind(null,a),Lo:Nw.bind(null,a),D_:Cw.bind(null,a),v_:Dw.bind(null,a)}),a.G_.push(async t=>{t?(a.Y_.h_(),await $c(a)):(await a.Y_.stop(),a.U_.length>0&&(it(Is,`Stopping write stream with ${a.U_.length} pending writes`),a.U_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new _m(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(a,t){if(Li("AsyncQueue",`${t}: ${a}`),Fa(a))return new lt(X.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(t){return new Da(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=al(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Da)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Da;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.Z_=new ie(ct.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):gt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class za{constructor(t,i,s,l,c,d,g,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new za(t,i,Da.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class Vw{constructor(){this.queries=ev(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=Et(i),c=l.queries;l.queries=ev(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function ev(){return new Ns(a=>mE(a),Hc)}async function Uw(a,t){const i=Et(a);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new Mw,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ym(d,`Initialization of query '${Ra(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&vm(i)}async function xw(a,t){const i=Et(a),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function kw(a,t){const i=Et(a);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&vm(i)}function Pw(a,t,i){const s=Et(a),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(i);s.queries.delete(t)}function vm(a){a.ia.forEach(t=>{t.next()})}var qd,nv;(nv=qd||(qd={}))._a="default",nv.Cache="cache";class Lw{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t){this.key=t}}class XE{constructor(t){this.key=t}}class zw{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ot(),this.mutatedKeys=Ot(),this.ya=gE(t),this.wa=new Da(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new tv,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const k=l.get(A),F=Gc(this.query,C)?C:null,Z=!!k&&this.mutatedKeys.has(k.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;k&&F?k.data.isEqual(F.data)?Z!==nt&&(s.track({type:3,doc:F}),J=!0):this.va(k,F)||(s.track({type:2,doc:F}),J=!0,(p&&this.ya(F,p)>0||y&&this.ya(F,y)<0)&&(g=!0)):!k&&F?(s.track({type:0,doc:F}),J=!0):k&&!F&&(s.track({type:1,doc:k}),J=!0,(p||y)&&(g=!0)),J&&(F?(d=d.add(F),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((A,C)=>function(F,Z){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return nt(F)-nt(Z)}(A.type,C.type)||this.ya(A.doc,C.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new za(this.query,t.wa,c,d,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new tv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ot(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new XE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new YE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Ot();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return za.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Em="SyncEngine";class Bw{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class qw{constructor(t){this.key=t,this.Ba=!1}}class jw{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ns(g=>mE(g),Hc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ct.comparator),this.Ua=new Map,this.Ka=new um,this.Wa={},this.Ga=new Map,this.za=La.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Hw(a,t,i=!0){const s=eT(a);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await $E(s,t,i,!0),l}async function Gw(a,t){const i=eT(a);await $E(i,t,!0,!1)}async function $E(a,t,i,s){const l=await ow(a.localStore,ii(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Fw(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&jE(a.remoteStore,l),g}async function Fw(a,t,i,s,l){a.Ha=(C,k,F)=>async function(nt,J,St,Tt){let dt=J.view.ba(St);dt.ls&&(dt=await Yy(nt.localStore,J.query,!1).then(({documents:O})=>J.view.ba(O,dt)));const Pt=Tt&&Tt.targetChanges.get(J.targetId),yt=Tt&&Tt.targetMismatches.get(J.targetId)!=null,Mt=J.view.applyChanges(dt,nt.isPrimaryClient,Pt,yt);return rv(nt,J.targetId,Mt.Ma),Mt.snapshot}(a,C,k,F);const c=await Yy(a.localStore,t,!0),d=new zw(t,c.gs),g=d.ba(c.documents),p=bl.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),y=d.applyChanges(g,a.isPrimaryClient,p);rv(a,i,y.Ma);const A=new Bw(t,i,d);return a.ka.set(t,A),a.qa.has(i)?a.qa.get(i).push(t):a.qa.set(i,[t]),y.snapshot}async function Qw(a,t,i){const s=Et(a),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!Hc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await zd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&dm(s.remoteStore,l.targetId),jd(s,l.targetId)}).catch(Ga)):(jd(s,l.targetId),await zd(s.localStore,l.targetId,!0))}async function Kw(a,t){const i=Et(a),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),dm(i.remoteStore,s.targetId))}async function Yw(a,t,i){const s=e1(a);try{const l=await function(d,g){const p=Et(d),y=Se.now(),A=g.reduce((F,Z)=>F.add(Z.key),Ot());let C,k;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let Z=zi(),nt=Ot();return p.ds.getEntries(F,A).next(J=>{Z=J,Z.forEach((St,Tt)=>{Tt.isValidDocument()||(nt=nt.add(St))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,Z)).next(J=>{C=J;const St=[];for(const Tt of g){const dt=oR(Tt,C.get(Tt.key).overlayedDocument);dt!=null&&St.push(new Pr(Tt.key,dt,aE(dt.value.mapValue),Pn.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,St,g)}).next(J=>{k=J;const St=J.applyToLocalDocumentSet(C,nt);return p.documentOverlayCache.saveOverlays(F,J.batchId,St)})}).then(()=>({batchId:k.batchId,changes:_E(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ie(Rt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,l.batchId,i),await wl(s,l.changes),await $c(s.remoteStore)}catch(l){const c=ym(l,"Failed to persist write");i.reject(c)}}async function ZE(a,t){const i=Et(a);try{const s=await rw(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i.Ua.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?jt(d.Ba):l.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await wl(i,s,t)}catch(s){await Ga(s)}}function iv(a,t,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let y=!1;p.queries.forEach((A,C)=>{for(const k of C.ta)k.sa(g)&&(y=!0)}),y&&vm(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Xw(a,t,i){const s=Et(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ua.get(t),c=l&&l.key;if(c){let d=new ie(ct.comparator);d=d.insert(c,Qe.newNoDocument(c,vt.min()));const g=Ot().add(c),p=new Kc(vt.min(),new Map,new ie(Rt),d,g);await ZE(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),Tm(s)}else await zd(s.localStore,t,!1).then(()=>jd(s,t,i)).catch(Ga)}async function $w(a,t){const i=Et(a),s=t.batch.batchId;try{const l=await iw(i.localStore,t);WE(i,s,null),JE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await wl(i,l)}catch(l){await Ga(l)}}async function Zw(a,t,i){const s=Et(a);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return p.mutationQueue.lookupMutationBatch(y,g).next(C=>(jt(C!==null),A=C.keys(),p.mutationQueue.removeMutationBatch(y,C))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>p.localDocuments.getDocuments(y,A))})}(s.localStore,t);WE(s,t,i),JE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await wl(s,l)}catch(l){await Ga(l)}}function JE(a,t){(a.Ga.get(t)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(t)}function WE(a,t,i){const s=Et(a);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function jd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(t),a.isPrimaryClient&&a.Ka.br(t).forEach(s=>{a.Ka.containsKey(s)||tT(a,s)})}function tT(a,t){a.Qa.delete(t.path.canonicalString());const i=a.$a.get(t);i!==null&&(dm(a.remoteStore,i),a.$a=a.$a.remove(t),a.Ua.delete(i),Tm(a))}function rv(a,t,i){for(const s of i)s instanceof YE?(a.Ka.addReference(s.key,t),Jw(a,s)):s instanceof XE?(it(Em,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,t),a.Ka.containsKey(s.key)||tT(a,s.key)):gt()}function Jw(a,t){const i=t.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(it(Em,"New document in limbo: "+i),a.Qa.add(s),Tm(a))}function Tm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const i=new ct(ee.fromString(t)),s=a.za.next();a.Ua.set(s,new qw(i)),a.$a=a.$a.insert(i,s),jE(a.remoteStore,new Sr(ii(dE(i.path)),s,"TargetPurposeLimboResolution",zc.ae))}}async function wl(a,t,i){const s=Et(a),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,t,i).then(y=>{var A;if((y||i)&&s.isPrimaryClient){const C=y?!y.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,C?"current":"not-current")}if(y){l.push(y);const C=hm.Yi(p.targetId,y);c.push(C)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,y){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>K.forEach(y,k=>K.forEach(k.Hi,F=>A.persistence.referenceDelegate.addReference(C,k.targetId,F)).next(()=>K.forEach(k.Ji,F=>A.persistence.referenceDelegate.removeReference(C,k.targetId,F)))))}catch(C){if(!Fa(C))throw C;it(fm,"Failed to update sequence numbers: "+C)}for(const C of y){const k=C.targetId;if(!C.fromCache){const F=A.Ts.get(k),Z=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(Z);A.Ts=A.Ts.insert(k,nt)}}}(s.localStore,c))}async function Ww(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(Em,"User change. New user:",t.toKey());const s=await LE(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new lt(X.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await wl(i,s.Rs)}}function t1(a,t){const i=Et(a),s=i.Ua.get(t);if(s&&s.Ba)return Ot().add(s.key);{let l=Ot();const c=i.qa.get(t);if(!c)return l;for(const d of c){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function eT(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xw.bind(null,t),t.La.p_=kw.bind(null,t.eventManager),t.La.Ja=Pw.bind(null,t.eventManager),t}function e1(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$w.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zw.bind(null,t),t}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Yc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return nw(this.persistence,new WR,t.initialUser,this.serializer)}Xa(t){return new PE(cm.ri,this.serializer)}Za(t){return new uw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class n1 extends Nc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){jt(this.persistence.referenceDelegate instanceof Cc);const s=this.persistence.referenceDelegate.garbageCollector;return new LR(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new PE(s=>Cc.ri(s,i),this.serializer)}}class Hd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ww.bind(null,this.syncEngine),await Ow(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Vw}()}createDatastore(t){const i=Yc(t.databaseInfo.databaseId),s=function(c){return new mw(c)}(t.databaseInfo);return function(c,d,g,p){return new yw(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,c,d,g){return new Ew(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>iv(this.syncEngine,i,0),function(){return Zy.D()?new Zy:new cw}())}createSyncEngine(t,i){return function(l,c,d,g,p,y,A){const C=new jw(l,c,d,g,p,y);return A&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(Is,"RemoteStore shutting down."),c.W_.add(5),await Rl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Li("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class r1{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(xr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(xr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=ym(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Ed(a,t){a.asyncQueue.verifyOperationInProgress(),it(xr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await LE(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function sv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await s1(a);it(xr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Wy(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>Wy(t.remoteStore,l)),a._onlineComponents=t}async function s1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(xr,"Using user provided OfflineComponentProvider");try{await Ed(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ua("Error using user provided cache. Falling back to memory cache: "+i),await Ed(a,new Nc)}}else it(xr,"Using default OfflineComponentProvider"),await Ed(a,new n1(void 0));return a._offlineComponents}async function nT(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(xr,"Using user provided OnlineComponentProvider"),await sv(a,a._uninitializedComponentsProvider._online)):(it(xr,"Using default OnlineComponentProvider"),await sv(a,new Hd))),a._onlineComponents}function a1(a){return nT(a).then(t=>t.syncEngine)}async function o1(a){const t=await nT(a),i=t.eventManager;return i.onListen=Hw.bind(null,t.syncEngine),i.onUnlisten=Qw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Gw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Kw.bind(null,t.syncEngine),i}function l1(a,t,i={}){const s=new Cr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const A=new i1({next:k=>{A.su(),d.enqueueAndForget(()=>xw(c,C)),k.fromCache&&p.source==="server"?y.reject(new lt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(k)},error:k=>y.reject(k)}),C=new Lw(g,A,{includeMetadataChanges:!0,Ta:!0});return Uw(c,C)}(await o1(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(a,t,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function u1(a,t,i,s){if(t===!0&&s===!0)throw new lt(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ov(a){if(!ct.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function lv(a){if(ct.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Am(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt()}function Cs(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Am(a);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",uv=!0;class cv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=uv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:uv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kR)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}u1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Zc{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fb;switch(s.type){case"firstParty":return new pb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=av.get(i);s&&(it("ComponentProvider","Removing Datastore"),av.delete(i),s.terminate())}(this),Promise.resolve()}}function c1(a,t,i,s={}){var l;const c=(a=Cs(a,Zc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==sT&&c.host!==g&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!bs(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=Fe.MOCK_USER;else{y=zA(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(C)}a._authCredentials=new db(new Yv(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Jc(this.firestore,t,this._query)}}class Dn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dn(this.firestore,t,this._key)}}class Dr extends Jc{constructor(t,i,s){super(t,i,dE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dn(this.firestore,null,new ct(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function aT(a,t,...i){if(a=rn(a),rT("collection","path",t),a instanceof Zc){const s=ee.fromString(t,...i);return lv(s),new Dr(a,null,s)}{if(!(a instanceof Dn||a instanceof Dr))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(t,...i));return lv(s),new Dr(a.firestore,null,s)}}function Sm(a,t,...i){if(a=rn(a),arguments.length===1&&(t=$v.newId()),rT("doc","path",t),a instanceof Zc){const s=ee.fromString(t,...i);return ov(s),new Dn(a,null,new ct(s))}{if(!(a instanceof Dn||a instanceof Dr))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ee.fromString(t,...i));return ov(s),new Dn(a.firestore,a instanceof Dr?a.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="AsyncQueue";class fv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BE(this,"async_queue_retry"),this.Su=()=>{const s=vd();s&&it(hv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=vd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=vd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Cr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Fa(t))throw t;it(hv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Li("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=_m.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class Il extends Zc{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new fv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fv(t),this._firestoreClient=void 0,await t}}}function h1(a,t){const i=typeof a=="object"?a:zv(),s=typeof a=="string"?a:Tc,l=Zd(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=PA("firestore");c&&c1(l,...c)}return l}function oT(a){if(a._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||f1(a),a._firestoreClient}function f1(a){var t,i,s;const l=a._freezeSettings(),c=function(g,p,y,A){return new Ob(g,p,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,iT(A.experimentalLongPollingOptions),A.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new r1(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ba(Be.fromBase64String(t))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ba(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=/^__.*__$/;class m1{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Pr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Sl(t,this.data,i,this.fieldTransforms)}}class lT{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Pr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function uT(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Im{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Im(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Oc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(uT(this.Lu)&&d1.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class g1{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Yc(t)}ju(t,i,s,l=!1){return new Im({Lu:t,methodName:i,zu:s,path:ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cT(a){const t=a._freezeSettings(),i=Yc(a._databaseId);return new g1(a._databaseId,!!t.ignoreUndefinedProperties,i)}function p1(a,t,i,s,l,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,t,i,l);Cm("Data must be an object, but it was:",d,s);const g=hT(s,d);let p,y;if(c.merge)p=new gn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const C of c.mergeFields){const k=Gd(t,C,i);if(!d.contains(k))throw new lt(X.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);dT(A,k)||A.push(k)}p=new gn(A),y=d.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,y=d.fieldTransforms;return new m1(new nn(g),p,y)}class th extends bm{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof th}}function _1(a,t,i,s){const l=a.ju(1,t,i);Cm("Data must be an object, but it was:",l,s);const c=[],d=nn.empty();kr(s,(p,y)=>{const A=Dm(t,p,i);y=rn(y);const C=l.Uu(A);if(y instanceof th)c.push(A);else{const k=eh(y,C);k!=null&&(c.push(A),d.set(A,k))}});const g=new gn(c);return new lT(d,g,l.fieldTransforms)}function y1(a,t,i,s,l,c){const d=a.ju(1,t,i),g=[Gd(t,s,i)],p=[l];if(c.length%2!=0)throw new lt(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)g.push(Gd(t,c[k])),p.push(c[k+1]);const y=[],A=nn.empty();for(let k=g.length-1;k>=0;--k)if(!dT(y,g[k])){const F=g[k];let Z=p[k];Z=rn(Z);const nt=d.Uu(F);if(Z instanceof th)y.push(F);else{const J=eh(Z,nt);J!=null&&(y.push(F),A.set(F,J))}}const C=new gn(y);return new lT(A,C,d.fieldTransforms)}function eh(a,t){if(fT(a=rn(a)))return Cm("Unsupported field value:",t,a),hT(a,t);if(a instanceof bm)return function(s,l){if(!uT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=eh(g,l.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,t)}return function(s,l){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return eR(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Se.fromDate(s);return{timestampValue:Ic(l.serializer,c)}}if(s instanceof Se){const c=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(l.serializer,c)}}if(s instanceof Rm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ba)return{bytesValue:DE(l.serializer,s._byteString)};if(s instanceof Dn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof wm)return function(d,g){return{mapValue:{fields:{[rE]:{stringValue:sE},[Ac]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return rm(g.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Am(s)}`)}(a,t)}function hT(a,t){const i={};return Jv(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kr(a,(s,l)=>{const c=eh(l,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function fT(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Se||a instanceof Rm||a instanceof Ba||a instanceof Dn||a instanceof bm||a instanceof wm)}function Cm(a,t,i){if(!fT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Am(i);throw s==="an object"?t.Wu(a+" a custom object"):t.Wu(a+" "+s)}}function Gd(a,t,i){if((t=rn(t))instanceof Wc)return t._internalPath;if(typeof t=="string")return Dm(a,t);throw Oc("Field path arguments must be of type string or ",a,!1,void 0,i)}const v1=new RegExp("[~\\*/\\[\\]]");function Dm(a,t,i){if(t.search(v1)>=0)throw Oc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wc(...t.split("."))._internalPath}catch{throw Oc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Oc(a,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new lt(X.INVALID_ARGUMENT,g+a+p)}function dT(a,t){return a.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new E1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class E1 extends mT{data(){return super.data()}}function gT(a,t){return typeof t=="string"?Dm(a,t):t instanceof Wc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class A1{convertValue(t,i="none"){switch(Vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return kr(t,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,l;const c=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[Ac].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new wm(c)}convertGeoPoint(t){return new Rm(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=qc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(gl(t));default:return null}}convertTimestamp(t){const i=Or(t);return new Se(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=ee.fromString(t);jt(xE(s));const l=new pl(s.get(1),s.get(3)),c=new ct(s.popFirst(5));return l.isEqual(i)||Li(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(a,t,i){let s;return s=a?a.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class b1 extends mT{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(gT("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class dc extends b1{data(t={}){return super.data(t)}}class R1{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ac(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new dc(this._firestore,this._userDataWriter,s.key,s,new ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ac(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new dc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ac(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:w1(g.type),doc:p,oldIndex:y,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function w1(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class I1 extends A1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ba(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,i)}}function C1(a){a=Cs(a,Jc);const t=Cs(a.firestore,Il),i=oT(t),s=new I1(t);return T1(a._query),l1(i,a._query).then(l=>new R1(t,s,a,l))}function D1(a,t,i,...s){a=Cs(a,Dn);const l=Cs(a.firestore,Il),c=cT(l);let d;return d=typeof(t=rn(t))=="string"||t instanceof Wc?y1(c,"updateDoc",a._key,t,i,s):_1(c,"updateDoc",a._key,t),Nm(l,[d.toMutation(a._key,Pn.exists(!0))])}function N1(a){return Nm(Cs(a.firestore,Il),[new sm(a._key,Pn.none())])}function O1(a,t){const i=Cs(a.firestore,Il),s=Sm(a),l=S1(a.converter,t);return Nm(i,[p1(cT(a.firestore),"addDoc",s._key,l,a.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then(()=>s)}function Nm(a,t){return function(s,l){const c=new Cr;return s.asyncQueue.enqueueAndForget(async()=>Yw(await a1(s),l,c)),c.promise}(oT(a),t)}(function(t,i=!0){(function(l){Ha=l})(ja),Va(new Rs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Il(new mb(s.getProvider("auth-internal")),new _b(d,s.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(y.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),wr(yy,vy,t),wr(yy,vy,"esm2017")})();function Om(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M1=pT,_T=new Tl("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Xd("@firebase/auth");function V1(a,...t){Mc.logLevel<=Nt.WARN&&Mc.warn(`Auth (${ja}): ${a}`,...t)}function mc(a,...t){Mc.logLevel<=Nt.ERROR&&Mc.error(`Auth (${ja}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(a,...t){throw Mm(a,...t)}function si(a,...t){return Mm(a,...t)}function yT(a,t,i){const s=Object.assign(Object.assign({},M1()),{[t]:i});return new Tl("auth","Firebase",s).create(t,{appName:a.name})}function Ss(a){return yT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return _T.create(a,...t)}function pt(a,t,...i){if(!a)throw Mm(t,...i)}function xi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw mc(t),new Error(t)}function qi(a,t){a||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function U1(){return dv()==="http:"||dv()==="https:"}function dv(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U1()||HA()||"connection"in navigator)?navigator.onLine:!0}function k1(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,i){this.shortDelay=t,this.longDelay=i,qi(i>t,"Short delay should be less than long delay!"),this.isMobile=BA()||GA()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(a,t){qi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z1=new Cl(3e4,6e4);function Um(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function Ka(a,t,i,s,l={}){return ET(a,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Al(Object.assign({key:a.config.apiKey},d)).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const y=Object.assign({method:t,headers:p},c);return jA()||(y.referrerPolicy="no-referrer"),vT.fetch()(await TT(a,a.config.apiHost,i,g),y)})}async function ET(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},P1),t);try{const l=new q1(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw oc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw oc(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw oc(a,"user-disabled",d);const A=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw yT(a,A,y);Bi(a,A)}}catch(l){if(l instanceof ji)throw l;Bi(a,"network-request-failed",{message:String(l)})}}async function B1(a,t,i,s,l={}){const c=await Ka(a,t,i,s,l);return"mfaPendingCredential"in c&&Bi(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function TT(a,t,i,s){const l=`${t}${i}?${s}`,c=a,d=c.config.emulator?Vm(a.config,l):`${a.config.apiScheme}://${l}`;return L1.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class q1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),z1.get())})}}function oc(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=si(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(a,t){return Ka(a,"POST","/v1/accounts:delete",t)}async function Vc(a,t){return Ka(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function H1(a,t=!1){const i=rn(a),s=await i.getIdToken(t),l=xm(s);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:fl(Td(l.auth_time)),issuedAtTime:fl(Td(l.iat)),expirationTime:fl(Td(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Td(a){return Number(a)*1e3}function xm(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mv(i);return l?JSON.parse(l):(mc("Failed to decode base64 JWT payload"),null)}catch(l){return mc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function mv(a){const t=xm(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof ji&&G1(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function G1({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(a){var t;const i=a.auth,s=await a.getIdToken(),l=await El(a,Vc(i,{idToken:s}));pt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];a._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?AT(c.providerUserInfo):[],g=K1(a.providerData,d),p=a.isAnonymous,y=!(a.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?y:!1,C={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Qd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(a,C)}async function Q1(a){const t=rn(a);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function K1(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function AT(a){return a.map(t=>{var{providerId:i}=t,s=Om(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(a,t){const i=await ET(a,{},async()=>{const s=Al({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await TT(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",vT.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function X1(a,t){return Ka(a,"POST","/v2/accounts:revokeToken",Um(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=mv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await Y1(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new Na;return s&&(pt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class kn{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,c=Om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new F1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Qd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await El(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return H1(this,t)}reload(){return Q1(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new kn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ss(this.auth));const t=await this.getIdToken();return await El(this,j1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,c,d,g,p,y,A;const C=(s=i.displayName)!==null&&s!==void 0?s:void 0,k=(l=i.email)!==null&&l!==void 0?l:void 0,F=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,J=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,St=(y=i.createdAt)!==null&&y!==void 0?y:void 0,Tt=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:dt,emailVerified:Pt,isAnonymous:yt,providerData:Mt,stsTokenManager:O}=i;pt(dt&&O,t,"internal-error");const S=Na.fromJSON(this.name,O);pt(typeof dt=="string",t,"internal-error"),yr(C,t.name),yr(k,t.name),pt(typeof Pt=="boolean",t,"internal-error"),pt(typeof yt=="boolean",t,"internal-error"),yr(F,t.name),yr(Z,t.name),yr(nt,t.name),yr(J,t.name),yr(St,t.name),yr(Tt,t.name);const R=new kn({uid:dt,auth:t,email:k,emailVerified:Pt,displayName:C,isAnonymous:yt,photoURL:Z,phoneNumber:F,tenantId:nt,stsTokenManager:S,createdAt:St,lastLoginAt:Tt});return Mt&&Array.isArray(Mt)&&(R.providerData=Mt.map(N=>Object.assign({},N))),J&&(R._redirectEventId=J),R}static async _fromIdTokenResponse(t,i,s=!1){const l=new Na;l.updateFromServerResponse(i);const c=new kn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Uc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?AT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Na;g.updateFromIdToken(s);const p=new kn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function ki(a){qi(a instanceof Function,"Expected a class definition");let t=gv.get(a);return t?(qi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,gv.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}ST.type="NONE";const pv=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(a,t,i){return`firebase:${a}:${t}:${i}`}class Oa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Vc(this.auth,{idToken:t}).catch(()=>{});return i?kn._fromGetAccountInfoResponse(this.auth,i,t):null}return kn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new Oa(ki(pv),t,s);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ki(pv);const d=gc(s,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let C;if(typeof A=="string"){const k=await Vc(t,{idToken:A}).catch(()=>{});if(!k)break;C=await kn._fromGetAccountInfoResponse(t,k,A)}else C=kn._fromJSON(t,A);y!==c&&(g=C),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Oa(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Oa(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(IT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(DT(t))return"Blackberry";if(NT(t))return"Webos";if(RT(t))return"Safari";if((t.includes("chrome/")||wT(t))&&!t.includes("edge/"))return"Chrome";if(CT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bT(a=Ke()){return/firefox\//i.test(a)}function RT(a=Ke()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wT(a=Ke()){return/crios\//i.test(a)}function IT(a=Ke()){return/iemobile/i.test(a)}function CT(a=Ke()){return/android/i.test(a)}function DT(a=Ke()){return/blackberry/i.test(a)}function NT(a=Ke()){return/webos/i.test(a)}function km(a=Ke()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function $1(a=Ke()){var t;return km(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Z1(){return FA()&&document.documentMode===10}function OT(a=Ke()){return km(a)||CT(a)||NT(a)||DT(a)||/windows phone/i.test(a)||IT(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(a,t=[]){let i;switch(a){case"Browser":i=_v(Ke());break;case"Worker":i=`${_v(Ke())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(a,t={}){return Ka(a,"GET","/v2/passwordPolicy",Um(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=6;class eI{constructor(t){var i,s,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:tI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new J1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ki(i)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Vc(this,{idToken:t}),s=await kn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(ni(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=k1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(Ss(this));const i=t?rn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await W1(this),i=new eI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Tl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await X1(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ki(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&V1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Pm(a){return rn(a)}class yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=WA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iI(a){Lm=a}function rI(a){return Lm.loadJS(a)}function sI(){return Lm.gapiScript}function aI(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(a,t){const i=Zd(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(bs(c,t??{}))return l;Bi(l,"already-initialized")}return i.initialize({options:t})}function lI(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(ki);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function uI(a,t,i){const s=Pm(a);pt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=VT(t),{host:d,port:g}=cI(t),p=g===null?"":`:${g}`,y={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){pt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),pt(bs(y,s.config.emulator)&&bs(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,hI()}function VT(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function cI(a){const t=VT(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:vv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:vv(d)}}}function vv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function hI(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,i){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(a,t){return B1(a,"POST","/v1/accounts:signInWithIdp",Um(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="http://localhost";class Ds extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ds(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Bi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,c=Om(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Ds(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ma(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ma(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ma(t,i)}buildRequest(){const t={requestUri:fI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Al(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Dl{constructor(){super("facebook.com")}static credential(t){return Ds._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vr.credential(t.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Dl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ds._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Er.credential(i,s)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Dl{constructor(){super("github.com")}static credential(t){return Ds._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Dl{constructor(){super("twitter.com")}static credential(t,i){return Ds._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Ar.credential(i,s)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await kn._fromIdTokenResponse(t,s,l),d=Ev(s);return new qa({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Ev(s);return new qa({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Ev(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ji{constructor(t,i,s,l){var c;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new xc(t,i,s,l)}}function kT(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(a,c,t,s):c})}async function dI(a,t,i=!1){const s=await El(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return qa._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(a,t,i=!1){const{auth:s}=a;if(ni(s.app))return Promise.reject(Ss(s));const l="reauthenticate";try{const c=await El(a,kT(s,l,t,a),i);pt(c.idToken,s,"internal-error");const d=xm(c.idToken);pt(d,s,"internal-error");const{sub:g}=d;return pt(a.uid===g,s,"user-mismatch"),qa._forOperation(a,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Bi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(a,t,i=!1){if(ni(a.app))return Promise.reject(Ss(a));const s="signIn",l=await kT(a,s,t),c=await qa._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(c.user),c}function pI(a,t,i,s){return rn(a).onIdTokenChanged(t,i,s)}function _I(a,t,i){return rn(a).beforeAuthStateChanged(t,i)}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e3,vI=10;class LT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);Z1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,vI):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}LT.type="LOCAL";const EI=LT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}zT.type="SESSION";const BT=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new nh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),p=await TI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const y=zm("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(C){const k=C;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function SI(a){ai().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function bI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RI(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function wI(){return qT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebaseLocalStorageDb",II=1,Pc="firebaseLocalStorage",HT="fbase_key";class Nl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ih(a,t){return a.transaction([Pc],t?"readwrite":"readonly").objectStore(Pc)}function CI(){const a=indexedDB.deleteDatabase(jT);return new Nl(a).toPromise()}function Kd(){const a=indexedDB.open(jT,II);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Pc,{keyPath:HT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Pc)?t(s):(s.close(),await CI(),t(await Kd()))})})}async function Tv(a,t,i){const s=ih(a,!0).put({[HT]:t,value:i});return new Nl(s).toPromise()}async function DI(a,t){const i=ih(a,!1).get(t),s=await new Nl(i).toPromise();return s===void 0?null:s.value}function Av(a,t){const i=ih(a,!0).delete(t);return new Nl(i).toPromise()}const NI=800,OI=3;class GT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>OI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(wI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await bI(),!this.activeServiceWorker)return;this.sender=new AI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kd();return await Tv(t,kc,"1"),await Av(t,kc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Tv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>DI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ih(l,!1).getAll();return new Nl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GT.type="LOCAL";const MI=GT;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(a,t){return t?ki(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends UT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ma(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ma(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function UI(a){return gI(a.auth,new Bm(a),a.bypassAuthState)}function xI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),mI(i,new Bm(a),a.bypassAuthState)}async function kI(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),dI(i,new Bm(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return UI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:Bi(this.auth,"internal-error")}}resolve(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new Cl(2e3,1e4);class Ca extends FT{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const t=zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PI.get())};t()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="pendingRedirect",pc=new Map;class zI extends FT{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=pc.get(this.auth._key());if(!t){try{const s=await BI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}pc.set(this.auth._key(),t)}return this.bypassAuthState||pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BI(a,t){const i=HI(t),s=jI(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function qI(a,t){pc.set(a._key(),t)}function jI(a){return ki(a._redirectPersistence)}function HI(a){return gc(LI,a.config.apiKey,a.name)}async function GI(a,t,i=!1){if(ni(a.app))return Promise.reject(Ss(a));const s=Pm(a),l=VI(s,t),d=await new zI(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=10*60*1e3;class QI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!KI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!QT(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(si(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(t))}saveEventToCache(t){this.cachedEventUids.add(Sv(t)),this.lastProcessedEventTime=Date.now()}}function Sv(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function QT({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function KI(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(a,t={}){return Ka(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$I=/^https?/;async function ZI(a){if(a.config.emulator)return;const{authorizedDomains:t}=await YI(a);for(const i of t)try{if(JI(i))return}catch{}Bi(a,"unauthorized-domain")}function JI(a){const t=Fd(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!$I.test(i))return!1;if(XI.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Cl(3e4,6e4);function bv(){const a=ai().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function tC(a){return new Promise((t,i)=>{var s,l,c;function d(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(si(a,"network-request-failed"))},timeout:WI.get()})}if(!((l=(s=ai().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ai().gapi)===null||c===void 0)&&c.load)d();else{const g=aI("iframefcb");return ai()[g]=()=>{gapi.load?d():i(si(a,"network-request-failed"))},rI(`${sI()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw _c=null,t})}let _c=null;function eC(a){return _c=_c||tC(a),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Cl(5e3,15e3),iC="__/auth/iframe",rC="emulator/auth/iframe",sC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oC(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Vm(t,rC):`https://${a.config.authDomain}/${iC}`,s={apiKey:t.apiKey,appName:a.name,v:ja},l=aC.get(a.config.apiHost);l&&(s.eid=l);const c=a._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Al(s).slice(1)}`}async function lC(a){const t=await eC(a),i=ai().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:oC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=si(a,"network-request-failed"),g=ai().setTimeout(()=>{c(d)},nC.get());function p(){ai().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cC=500,hC=600,fC="_blank",dC="http://localhost";class Rv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mC(a,t,i,s=cC,l=hC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},uC),{width:s.toString(),height:l.toString(),top:c,left:d}),y=Ke().toLowerCase();i&&(g=wT(y)?fC:i),bT(y)&&(t=t||dC,p.scrollbars="yes");const A=Object.entries(p).reduce((k,[F,Z])=>`${k}${F}=${Z},`,"");if($1(y)&&g!=="_self")return gC(t||"",g),new Rv(null);const C=window.open(t||"",g,A);pt(C,a,"popup-blocked");try{C.focus()}catch{}return new Rv(C)}function gC(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="__/auth/handler",_C="emulator/auth/handler",yC=encodeURIComponent("fac");async function wv(a,t,i,s,l,c){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:ja,eventId:l};if(t instanceof xT){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",JA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))d[A]=C}if(t instanceof Dl){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await a._getAppCheckToken(),y=p?`#${yC}=${encodeURIComponent(p)}`:"";return`${vC(a)}?${Al(g).slice(1)}${y}`}function vC({config:a}){return a.emulator?Vm(a,_C):`https://${a.authDomain}/${pC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="webStorageSupport";class EC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=GI,this._overrideRedirectResult=qI}async _openPopup(t,i,s,l){var c;qi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await wv(t,i,s,Fd(),l);return mC(t,d,zm())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await wv(t,i,s,Fd(),l);return SI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(qi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await lC(t),s=new QI(t);return i.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ad,{type:Ad},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ad];d!==void 0&&i(!!d),Bi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ZI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return OT()||RT()||km()}}const TC=EC;var Iv="@firebase/auth",Cv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bC(a){Va(new Rs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(a)},y=new nI(s,l,c,p);return lI(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Va(new Rs("auth-internal",t=>{const i=Pm(t.getProvider("auth").getImmediate());return(s=>new AC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Iv,Cv,SC(a)),wr(Iv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=5*60,wC=xv("authIdTokenMaxAge")||RC;let Dv=null;const IC=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>wC)return;const l=i==null?void 0:i.token;Dv!==l&&(Dv=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function CC(a=zv()){const t=Zd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=oI(a,{popupRedirectResolver:TC,persistence:[MI,EI,BT]}),s=xv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=IC(c.toString());_I(i,d,()=>d(i.currentUser)),pI(i,g=>d(g))}}const l=Vv("auth");return l&&uI(i,`http://${l}`),i}function DC(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}iI({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const c=si("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",DC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bC("Browser");const NC={apiKey:"AIzaSyDA_F24bmsTLXhMPK3itFNF6QoNPfM5q3k",authDomain:"myjournalapp-289db.firebaseapp.com",projectId:"myjournalapp-289db",storageBucket:"myjournalapp-289db.firebasestorage.app",messagingSenderId:"88023529496",appId:"1:88023529496:web:baad0b55e4a8d7d19bab6d",measurementId:"G-MKEL22THZP"},KT=Lv(NC),rh=h1(KT);CC(KT);const OC=()=>{const a="border-3 border-blue-100 rounded  w-full mb-4 text-1xl",[t,i]=mn.useState(""),[s,l]=mn.useState(""),[c,d]=mn.useState(""),[g,p]=mn.useState(""),y=async A=>{A.preventDefault();try{await O1(aT(rh,"notes"),{title:t,mood:s,date:c,content:g}),i(""),l(""),d(""),p(""),alert("Note added successfully!")}catch(C){console.error("Error adding note: ",C)}};return st.jsx(st.Fragment,{children:st.jsx("div",{className:"w-[500px] h-100 mx-auto bg-pink-300 rounded-lg p-4 shadow-md mt-8 text-3xl font-black text-gray-500 border-2",children:st.jsx("form",{onSubmit:y,children:st.jsxs("div",{className:"",children:["Title:"," ",st.jsx("input",{className:a,type:"text",value:t,placeholder:"enter Title here :",onChange:A=>{i(A.target.value)}}),st.jsx("br",{}),"Mood:"," ",st.jsx("input",{className:a,type:"text",value:s,placeholder:"enter mood",onChange:A=>{l(A.target.value)}}),st.jsx("br",{}),"Date:"," ",st.jsx("input",{className:a,type:"text",value:c,placeholder:" enter Date:",onChange:A=>{d(A.target.value)}}),st.jsx("br",{}),"Content :"," ",st.jsx("input",{className:a,type:"text",value:g,placeholder:" enter Content:",onChange:A=>{p(A.target.value)}}),st.jsx("button",{type:"submit",className:"bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Add Note"})]})})})})},MC=({title:a,mood:t,date:i,content:s,onEdit:l,onDelete:c})=>{const[d,g]=mn.useState(!1),p=()=>{g(!d)},y={height:d?"auto":"300px",overflow:"hidden",transition:"height 0.3s ease"};return st.jsxs(st.Fragment,{children:[" ",st.jsx("div",{children:st.jsxs("div",{className:"w-[350px] mx-auto bg-pink-300 rounded-lg p-4 shadow-md mt-8 text-3xl font-black text-gray-500",style:y,children:[st.jsx("h3",{className:"text-yellow-300 text-center",children:"Your Note 📝 "}),st.jsxs("div",{className:"text-center",children:[a,st.jsx("br",{}),st.jsx("span",{className:"text-pink-500",children:"mood:"})," ",t,st.jsx("br",{}),st.jsx("span",{className:"text-pink-500",children:"Date:"}),i,st.jsx("br",{}),st.jsxs("p",{children:[st.jsx("strong",{className:"text-pink-500",children:"Content:"})," ",d?s:`${s.substring(0,10)}... `,st.jsx("button",{className:"text-blue-500 hover:underline text-base",onClick:p,children:d?"Show less":"Read more"})]}),st.jsx("br",{})," ",st.jsx("br",{}),st.jsx("br",{}),st.jsxs("div",{className:"flex gap-x-16",children:[st.jsx("button",{onClick:l,children:"✏️ Edit"}),st.jsx("button",{onClick:c,children:"🗑️ Delete"})]})]})]})})]})},VC=({note:a,onSave:t})=>{const[i,s]=mn.useState(a.title),[l,c]=mn.useState(a.mood),[d,g]=mn.useState(a.content),p=async()=>{await D1(Sm(rh,"notes",a.id),{title:i,mood:l,content:d}),t()};return st.jsxs("div",{className:"w-[500px] mx-auto bg-pink-300 rounded-lg p-4 shadow-md mt-8 text-3xl font-black text-gray-500 mt-30",children:[st.jsx("span",{className:"text-pink-500",children:" Title:"}),st.jsx("input",{className:"border-2",value:i,onChange:y=>s(y.target.value),type:"text"}),st.jsx("span",{className:"text-pink-500",children:" Mood :"}),st.jsx("input",{className:"border-2",value:l,onChange:y=>c(y.target.value),type:"text"}),st.jsx("span",{className:"text-pink-500",children:" Content: "}),st.jsx("textarea",{className:"border-2",value:d,onChange:y=>g(y.target.value),name:"",id:""}),st.jsx("button",{onClick:p,className:"text-pink-500 bg-black",children:"💾save"})]})},UC=async(a,t)=>{try{await N1(Sm(rh,"notes",a)),t&&t()}catch(i){console.error("Error deleting note:",i)}},xC=()=>{const[a,t]=mn.useState(!1),[i,s]=mn.useState([]),[l,c]=mn.useState(null);mn.useEffect(()=>{(async()=>{const A=(await C1(aT(rh,"notes"))).docs.map(C=>({id:C.id,...C.data()}));s(A)})()},[]);function d(){t(!0)}const g=async p=>{await UC(p,()=>{s(y=>y.filter(A=>A.id!==p))})};return st.jsx(st.Fragment,{children:l?st.jsx(VC,{note:l,onSave:()=>c(null)}):a?st.jsx(OC,{}):st.jsxs(st.Fragment,{children:[st.jsx("button",{className:"fixed top-25 left-1/2 transform -translate-x-1/2 bg-pink-500 p-4 rounded-lg shadow-md text-2xl font-black text-gray-900 z-20 ",onClick:d,children:"📝 Make New Notes"}),st.jsx("div",{className:"flex flex-wrap gap-8 justify-center mt-40 mb-20",children:i.map(p=>st.jsx(MC,{title:p.title,mood:p.mood,date:p.date,content:p.content,onEdit:()=>c(p),onDelete:()=>g(p.id)},p.id))})]})})},kC="/MyJournalApp/assets/bg-CkdoVreH.gif";function PC(){return st.jsxs(st.Fragment,{children:[" ",st.jsxs("div",{className:"  bg-cover bg-center bg-no-repeat h-screen overflow-y-auto bg-pink-100",style:{backgroundImage:`url(${kC})`},children:[st.jsx(CA,{}),st.jsx(xC,{})]})]})}IA.createRoot(document.getElementById("root")).render(st.jsx(mn.StrictMode,{children:st.jsx(PC,{})}));
